"use strict";(()=>{var We=Object.create;var he=Object.defineProperty;var Xe=Object.getOwnPropertyDescriptor;var Ye=Object.getOwnPropertyNames;var ze=Object.getPrototypeOf,Je=Object.prototype.hasOwnProperty;var Ze=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var et=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let m of Ye(e))!Je.call(t,m)&&m!==n&&he(t,m,{get:()=>e[m],enumerable:!(o=Xe(e,m))||o.enumerable});return t};var tt=(t,e,n)=>(n=t!=null?We(ze(t)):{},et(e||!t||!t.__esModule?he(n,"default",{value:t,enumerable:!0}):n,t));var ge=Ze((Ct,q)=>{"use strict";(function(t){let e=0,n=function(o,m){let p="js-enabled",f=this,c=!1;if(Array.isArray(o))return!!o.length&&o.map(r=>new n(r,m));let a={init(){this.options=Object.assign({duration:500,ariaEnabled:!0,collapse:!0,showMultiple:!1,onlyChildNodes:!0,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active",beforeOpen:()=>{},onOpen:()=>{},beforeClose:()=>{},onClose:()=>{}},m);let r=typeof o=="string";this.container=r?document.querySelector(o):o,this.createDefinitions(),f.attachEvents()},createDefinitions(){let{elementClass:r,openOnInit:s,onlyChildNodes:l}=this.options,u=l?this.container.childNodes:this.container.querySelectorAll(i(r));this.elements=Array.from(u).filter(d=>d.classList&&d.classList.contains(r)),this.firstElement=this.elements[0],this.lastElement=this.elements[this.elements.length-1],this.elements.filter(d=>!d.classList.contains(p)).forEach(d=>{d.classList.add(p),this.generateIDs(d),this.setARIA(d),this.setTransition(d);let h=this.elements.indexOf(d);e++,s.includes(h)?this.showElement(d,!1):this.closeElement(d,!1)})},setTransition(r){let s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],{duration:l,panelClass:u}=this.options;r.querySelector(i(u)).style.transitionDuration=s?null:"".concat(l,"ms")},generateIDs(r){let{triggerClass:s,panelClass:l}=this.options,u=r.querySelector(i(s)),d=r.querySelector(i(l));r.setAttribute("id",r.id||"ac-".concat(e)),u.setAttribute("id",u.id||"ac-trigger-".concat(e)),d.setAttribute("id",d.id||"ac-panel-".concat(e))},removeIDs(r){let{triggerClass:s,panelClass:l}=this.options,u=r.querySelector(i(s)),d=r.querySelector(i(l));r.id.startsWith("ac-")&&r.removeAttribute("id"),u.id.startsWith("ac-")&&u.removeAttribute("id"),d.id.startsWith("ac-")&&d.removeAttribute("id")},setARIA(r){let{ariaEnabled:s,triggerClass:l,panelClass:u}=this.options;if(!s)return;let d=r.querySelector(i(l)),h=r.querySelector(i(u));d.setAttribute("role","button"),d.setAttribute("aria-controls",h.id),d.setAttribute("aria-disabled",!1),d.setAttribute("aria-expanded",!1),h.setAttribute("role","region"),h.setAttribute("aria-labelledby",d.id)},updateARIA(r,s){let{ariaExpanded:l,ariaDisabled:u}=s,{ariaEnabled:d,triggerClass:h}=this.options;if(!d)return;let E=r.querySelector(i(h));E.setAttribute("aria-expanded",l),E.setAttribute("aria-disabled",u)},removeARIA(r){let{ariaEnabled:s,triggerClass:l,panelClass:u}=this.options;if(!s)return;let d=r.querySelector(i(l)),h=r.querySelector(i(u));d.removeAttribute("role"),d.removeAttribute("aria-controls"),d.removeAttribute("aria-disabled"),d.removeAttribute("aria-expanded"),h.removeAttribute("role"),h.removeAttribute("aria-labelledby")},focus(r,s){r.preventDefault();let{triggerClass:l}=this.options;s.querySelector(i(l)).focus()},focusFirstElement(r){this.focus(r,this.firstElement),this.currFocusedIdx=0},focusLastElement(r){this.focus(r,this.lastElement),this.currFocusedIdx=this.elements.length-1},focusNextElement(r){let s=this.currFocusedIdx+1;if(s>this.elements.length-1)return this.focusFirstElement(r);this.focus(r,this.elements[s]),this.currFocusedIdx=s},focusPrevElement(r){let s=this.currFocusedIdx-1;if(s<0)return this.focusLastElement(r);this.focus(r,this.elements[s]),this.currFocusedIdx=s},showElement(r){let s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],{panelClass:l,activeClass:u,collapse:d,beforeOpen:h}=this.options;s&&h(r);let E=r.querySelector(i(l)),v=E.scrollHeight;r.classList.add(u),requestAnimationFrame(()=>{requestAnimationFrame(()=>{E.style.height=s?"".concat(v,"px"):"auto"})}),this.updateARIA(r,{ariaExpanded:!0,ariaDisabled:!d})},closeElement(r){let s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],{panelClass:l,activeClass:u,beforeClose:d}=this.options,h=r.querySelector(i(l)),E=h.scrollHeight;r.classList.remove(u),s?(d(r),requestAnimationFrame(()=>{h.style.height="".concat(E,"px"),requestAnimationFrame(()=>{h.style.height=0})})):h.style.height=0,this.updateARIA(r,{ariaExpanded:!1,ariaDisabled:!1})},toggleElement(r){let{activeClass:s,collapse:l}=this.options,u=r.classList.contains(s);if(!u||l)return u?this.closeElement(r):this.showElement(r)},closeElements(){let{activeClass:r,showMultiple:s}=this.options;s||this.elements.forEach((l,u)=>{l.classList.contains(r)&&u!==this.currFocusedIdx&&this.closeElement(l)})},handleClick(r){let s=r.currentTarget;this.elements.forEach((l,u)=>{l.contains(s)&&r.target.nodeName!=="A"&&(this.currFocusedIdx=u,this.closeElements(),this.focus(r,l),this.toggleElement(l))})},handleKeydown(r){switch(r.key){case"ArrowUp":return this.focusPrevElement(r);case"ArrowDown":return this.focusNextElement(r);case"Home":return this.focusFirstElement(r);case"End":return this.focusLastElement(r);default:return null}},handleFocus(r){let s=r.currentTarget,l=this.elements.find(u=>u.contains(s));this.currFocusedIdx=this.elements.indexOf(l)},handleTransitionEnd(r){if(r.stopPropagation(),r.propertyName!=="height")return;let{onOpen:s,onClose:l}=this.options,u=r.currentTarget,d=parseInt(u.style.height),h=this.elements.find(E=>E.contains(u));d>0?(u.style.height="auto",s(h)):l(h)}};this.attachEvents=()=>{if(c)return;let{triggerClass:r,panelClass:s}=a.options;a.handleClick=a.handleClick.bind(a),a.handleKeydown=a.handleKeydown.bind(a),a.handleFocus=a.handleFocus.bind(a),a.handleTransitionEnd=a.handleTransitionEnd.bind(a),a.elements.forEach(l=>{let u=l.querySelector(i(r)),d=l.querySelector(i(s));u.addEventListener("click",a.handleClick),u.addEventListener("keydown",a.handleKeydown),u.addEventListener("focus",a.handleFocus),d.addEventListener("transitionend",a.handleTransitionEnd)}),c=!0},this.detachEvents=()=>{if(!c)return;let{triggerClass:r,panelClass:s}=a.options;a.elements.forEach(l=>{let u=l.querySelector(i(r)),d=l.querySelector(i(s));u.removeEventListener("click",a.handleClick),u.removeEventListener("keydown",a.handleKeydown),u.removeEventListener("focus",a.handleFocus),d.removeEventListener("transitionend",a.handleTransitionEnd)}),c=!1},this.toggle=r=>{let s=a.elements[r];s&&a.toggleElement(s)},this.open=r=>{let s=a.elements[r];s&&a.showElement(s)},this.openAll=()=>{let{activeClass:r,onOpen:s}=a.options;a.elements.forEach(l=>{l.classList.contains(r)||(a.showElement(l,!1),s(l))})},this.close=r=>{let s=a.elements[r];s&&a.closeElement(s)},this.closeAll=()=>{let{activeClass:r,onClose:s}=a.options;a.elements.forEach(l=>{l.classList.contains(r)&&(a.closeElement(l,!1),s(l))})},this.destroy=()=>{this.detachEvents(),this.openAll(),a.elements.forEach(r=>{a.removeIDs(r),a.removeARIA(r),a.setTransition(r,!0),r.classList.remove(p)}),c=!0},this.update=()=>{a.createDefinitions(),this.detachEvents(),this.attachEvents()};let i=r=>".".concat(CSS.escape(r));a.init()};typeof q<"u"&&q.exports!==void 0?q.exports=n:t.Accordion=n})(window)});var pe="America/Los_Angeles",rt=new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:pe}),nt=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:pe}),fe=t=>{let e=new Date(t);return rt.format(e)},Ee=t=>{let e=new Date(t);return nt.format(e)},O=(t,e="USD")=>t==null?"":new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:2}).format(t);function ye(){console.log("Initializing page transitions");let t=1300,e=800,n=".no-transition",o=document.querySelector('[ll-selector="loader"]');if(console.log("Loader element:",o),!o)return;o.style.opacity="1",o.style.display="flex",o.style.transition=`opacity ${t}ms ease`;let m=()=>{console.log("Hiding loader"),o&&(o.style.opacity="0",setTimeout(()=>{o.style.display="none"},t))},p=()=>{o&&(o.style.display="flex",o.offsetWidth,o.style.opacity="1")};console.log("Executing intro animation directly"),document.body.classList.add("no-scroll-transition"),setTimeout(()=>{m(),document.body.classList.remove("no-scroll-transition")},500),document.addEventListener("click",c=>{let i=c.target.closest("a");if(!i)return;let r=i.getAttribute("href");if(i.hostname!==window.location.hostname||!r||r.includes("#")||r.endsWith("/")&&r.indexOf("#")!==-1||i.matches(n)||i.getAttribute("target")==="_blank"||i.getAttribute("download")!==null)return;c.preventDefault();let s=i.getAttribute("href");s&&(document.body.classList.add("no-scroll-transition"),p(),setTimeout(()=>{window.location.href=s},e))}),window.addEventListener("pageshow",c=>{console.log("Page show"),c.persisted&&(m(),document.body.classList.remove("no-scroll-transition"))});let f;window.addEventListener("resize",()=>{clearTimeout(f),f=window.setTimeout(()=>{o&&(o.style.display="none")},50)})}var Ae=tt(ge(),1),ve=function(t){new Ae.default(t,{showMultiple:!0})};var S=(t,e,n)=>{let o=t.querySelector(`[data-field="${e}"]`);if(!o){console.warn(`Element with data-field="${e}" not found`);return}o.textContent=n};var R="GraphQL Client";var B="An error occurred while fetching from the API. Review 'graphQLErrors' for details.",G="Response returned unexpected Content-Type:",Q="An unknown error has occurred. The API did not return a data object or any errors in its response.",$={json:"application/json",multipart:"multipart/mixed"},j="X-SDK-Variant",W="X-SDK-Version",Te="shopify-graphql-client",be="1.4.1",k=1e3,Ce=[429,503],X=/@(defer)\b/i,we=`\r
`,Ie=/boundary="?([^=";]+)"?/i,Y=we+we;function C(t,e=R){return t.startsWith(`${e}`)?t:`${e}: ${t}`}function I(t){return t instanceof Error?t.message:JSON.stringify(t)}function z(t){return t instanceof Error&&t.cause?t.cause:void 0}function J(t){return t.flatMap(({errors:e})=>e??[])}function F({client:t,retries:e}){if(e!==void 0&&(typeof e!="number"||e<0||e>3))throw new Error(`${t}: The provided "retries" value (${e}) is invalid - it cannot be less than ${0} or greater than ${3}`)}function w(t,e){return e&&(typeof e!="object"||Array.isArray(e)||typeof e=="object"&&Object.keys(e).length>0)?{[t]:e}:{}}function Z(t,e){if(t.length===0)return e;let o={[t.pop()]:e};return t.length===0?o:Z(t,o)}function _e(t,e){return Object.keys(e||{}).reduce((n,o)=>(typeof e[o]=="object"||Array.isArray(e[o]))&&t[o]?(n[o]=_e(t[o],e[o]),n):(n[o]=e[o],n),Array.isArray(t)?[...t]:{...t})}function ee([t,...e]){return e.reduce(_e,{...t})}function te({clientLogger:t,customFetchApi:e=fetch,client:n=R,defaultRetryWaitTime:o=k,retriableCodes:m=Ce}){let p=async(f,c,a)=>{let i=c+1,r=a+1,s;try{if(s=await e(...f),t({type:"HTTP-Response",content:{requestParams:f,response:s}}),!s.ok&&m.includes(s.status)&&i<=r)throw new Error;let l=s?.headers.get("X-Shopify-API-Deprecated-Reason")||"";return l&&t({type:"HTTP-Response-GraphQL-Deprecation-Notice",content:{requestParams:f,deprecationNotice:l}}),s}catch(l){if(i<=r){let u=s?.headers.get("Retry-After");return await ot(u?parseInt(u,10):o),t({type:"HTTP-Retry",content:{requestParams:f,lastResponse:s,retryAttempt:c,maxRetries:a}}),p(f,i,a)}throw new Error(C(`${a>0?`Attempted maximum number of ${a} network retries. Last message - `:""}${I(l)}`,n))}};return p}async function ot(t){return new Promise(e=>setTimeout(e,t))}function re({headers:t,url:e,customFetchApi:n=fetch,retries:o=0,logger:m}){F({client:R,retries:o});let p={headers:t,url:e,retries:o},f=st(m),c=te({customFetchApi:n,clientLogger:f,defaultRetryWaitTime:k}),a=at(c,p),i=it(a),r=pt(a);return{config:p,fetch:a,request:i,requestStream:r}}function st(t){return e=>{t&&t(e)}}async function De(t){let{errors:e,data:n,extensions:o}=await t.json();return{...w("data",n),...w("extensions",o),headers:t.headers,...e||!n?{errors:{networkStatusCode:t.status,message:C(e?B:Q),...w("graphQLErrors",e),response:t}}:{}}}function at(t,{url:e,headers:n,retries:o}){return async(m,p={})=>{let{variables:f,headers:c,url:a,retries:i,keepalive:r,signal:s}=p,l=JSON.stringify({query:m,variables:f});F({client:R,retries:i});let u=Object.entries({...n,...c}).reduce((h,[E,v])=>(h[E]=Array.isArray(v)?v.join(", "):v.toString(),h),{});return!u[j]&&!u[W]&&(u[j]=Te,u[W]=be),t([a??e,{method:"POST",headers:u,body:l,signal:s,keepalive:r}],1,i??o)}}function it(t){return async(...e)=>{if(X.test(e[0]))throw new Error(C("This operation will result in a streamable response - use requestStream() instead."));let n=null;try{n=await t(...e);let{status:o,statusText:m}=n,p=n.headers.get("content-type")||"";return n.ok?p.includes($.json)?await De(n):{errors:{networkStatusCode:o,message:C(`${G} ${p}`),response:n}}:{errors:{networkStatusCode:o,message:C(m),response:n}}}catch(o){return{errors:{message:I(o),...n==null?{}:{networkStatusCode:n.status,response:n}}}}}}async function*ct(t){let e=new TextDecoder;if(t.body[Symbol.asyncIterator])for await(let n of t.body)yield e.decode(n);else{let n=t.body.getReader(),o;try{for(;!(o=await n.read()).done;)yield e.decode(o.value)}finally{n.cancel()}}}function lt(t,e){return{async*[Symbol.asyncIterator](){try{let n="";for await(let o of t)if(n+=o,n.indexOf(e)>-1){let m=n.lastIndexOf(e),f=n.slice(0,m).split(e).filter(c=>c.trim().length>0).map(c=>c.slice(c.indexOf(Y)+Y.length).trim());f.length>0&&(yield f),n=n.slice(m+e.length),n.trim()==="--"&&(n="")}}catch(n){throw new Error(`Error occured while processing stream payload - ${I(n)}`)}}}}function ut(t){return{async*[Symbol.asyncIterator](){yield{...await De(t),hasNext:!1}}}}function dt(t){return t.map(e=>{try{return JSON.parse(e)}catch(n){throw new Error(`Error in parsing multipart response - ${I(n)}`)}}).map(e=>{let{data:n,incremental:o,hasNext:m,extensions:p,errors:f}=e;if(!o)return{data:n||{},...w("errors",f),...w("extensions",p),hasNext:m};let c=o.map(({data:a,path:i,errors:r})=>({data:a&&i?Z(i,a):{},...w("errors",r)}));return{data:c.length===1?c[0].data:ee([...c.map(({data:a})=>a)]),...w("errors",J(c)),hasNext:m}})}function mt(t,e){if(t.length>0)throw new Error(B,{cause:{graphQLErrors:t}});if(Object.keys(e).length===0)throw new Error(Q)}function ht(t,e){let n=(e??"").match(Ie),o=`--${n?n[1]:"-"}`;if(!t.body?.getReader&&!t.body?.[Symbol.asyncIterator])throw new Error("API multipart response did not return an iterable body",{cause:t});let m=ct(t),p={},f;return{async*[Symbol.asyncIterator](){try{let c=!0;for await(let a of lt(m,o)){let i=dt(a);f=i.find(s=>s.extensions)?.extensions??f;let r=J(i);p=ee([p,...i.map(({data:s})=>s)]),c=i.slice(-1)[0].hasNext,mt(r,p),yield{...w("data",p),...w("extensions",f),hasNext:c}}if(c)throw new Error("Response stream terminated unexpectedly")}catch(c){let a=z(c);yield{...w("data",p),...w("extensions",f),errors:{message:C(I(c)),networkStatusCode:t.status,...w("graphQLErrors",a?.graphQLErrors),response:t},hasNext:!1}}}}}function pt(t){return async(...e)=>{if(!X.test(e[0]))throw new Error(C("This operation does not result in a streamable response - use request() instead."));try{let n=await t(...e),{statusText:o}=n;if(!n.ok)throw new Error(o,{cause:n});let m=n.headers.get("content-type")||"";switch(!0){case m.includes($.json):return ut(n);case m.includes($.multipart):return ht(n,m);default:throw new Error(`${G} ${m}`,{cause:n})}}catch(n){return{async*[Symbol.asyncIterator](){let o=z(n);yield{errors:{message:C(I(n)),...w("networkStatusCode",o?.status),...w("response",o)},hasNext:!1}}}}}}function ne({client:t,storeDomain:e}){try{if(!e||typeof e!="string")throw new Error;let n=e.trim(),o=n.match(/^https?:/)?n:`https://${n}`,m=new URL(o);return m.protocol="https",m.origin}catch(n){throw new Error(`${t}: a valid store domain ("${e}") must be provided`,{cause:n})}}function H({client:t,currentSupportedApiVersions:e,apiVersion:n,logger:o}){let m=`${t}: the provided apiVersion ("${n}")`,p=`Currently supported API versions: ${e.join(", ")}`;if(!n||typeof n!="string")throw new Error(`${m} is invalid. ${p}`);let f=n.trim();e.includes(f)||(o?o({type:"Unsupported_Api_Version",content:{apiVersion:n,supportedApiVersions:e}}):console.warn(`${m} is likely deprecated or not supported. ${p}`))}function U(t){let e=t*3-2;return e===10?e:`0${e}`}function oe(t,e,n){let o=e-n;return o<=0?`${t-1}-${U(o+4)}`:`${t}-${U(o)}`}function Le(){let t=new Date,e=t.getUTCMonth(),n=t.getUTCFullYear(),o=Math.floor(e/3+1);return{year:n,quarter:o,version:`${n}-${U(o)}`}}function se(){let{year:t,quarter:e,version:n}=Le(),o=e===4?`${t+1}-01`:`${t}-${U(e+1)}`;return[oe(t,e,3),oe(t,e,2),oe(t,e,1),n,o,"unstable"]}function ae(t){return e=>({...e??{},...t.headers})}function ie({getHeaders:t,getApiUrl:e}){return(n,o)=>{let m=[n];if(o&&Object.keys(o).length>0){let{variables:p,apiVersion:f,headers:c,retries:a,signal:i}=o;m.push({...p?{variables:p}:{},...c?{headers:t(c)}:{},...f?{url:e(f)}:{},...a?{retries:a}:{},...i?{signal:i}:{}})}return m}}var ce="application/json",xe="storefront-api-client",Ne="1.0.9",Pe="X-Shopify-Storefront-Access-Token",Oe="Shopify-Storefront-Private-Token",qe="X-SDK-Variant",$e="X-SDK-Version",ke="X-SDK-Variant-Source",_="Storefront API Client";function Fe(t){if(t&&typeof window<"u")throw new Error(`${_}: private access tokens and headers should only be used in a server-to-server implementation. Use the public API access token in nonserver environments.`)}function He(t,e){if(!t&&!e)throw new Error(`${_}: a public or private access token must be provided`);if(t&&e)throw new Error(`${_}: only provide either a public or private access token`)}function le({storeDomain:t,apiVersion:e,publicAccessToken:n,privateAccessToken:o,clientName:m,retries:p=0,customFetchApi:f,logger:c}){let a=se(),i=ne({client:_,storeDomain:t}),r={client:_,currentSupportedApiVersions:a,logger:c};H({...r,apiVersion:e}),He(n,o),Fe(o);let s=ft(i,e,r),l={storeDomain:i,apiVersion:e,...n?{publicAccessToken:n}:{privateAccessToken:o},headers:{"Content-Type":ce,Accept:ce,[qe]:xe,[$e]:Ne,...m?{[ke]:m}:{},...n?{[Pe]:n}:{[Oe]:o}},apiUrl:s(),clientName:m},u=re({headers:l.headers,url:l.apiUrl,retries:p,customFetchApi:f,logger:c}),d=ae(l),h=Et(l,s),E=ie({getHeaders:d,getApiUrl:h});return Object.freeze({config:l,getHeaders:d,getApiUrl:h,fetch:(...T)=>u.fetch(...E(...T)),request:(...T)=>u.request(...E(...T)),requestStream:(...T)=>u.requestStream(...E(...T))})}function ft(t,e,n){return o=>{o&&H({...n,apiVersion:o});let m=(o??e).trim();return`${t}/api/${m}/graphql.json`}}function Et(t,e){return n=>n?e(n):t.apiUrl}function ue(t){if(!t)throw new Error("Invalid product ID");return t.startsWith("gid://")?t:`gid://shopify/Product/${t}`}var yt="shop.lostlevelsarcade.com",gt="51611eac4adbd8d8496b9a639e0c3ef2",At="2025-07",vt=le({storeDomain:yt,apiVersion:At,publicAccessToken:gt});async function Ue(t){if(!t||t.length===0)return[];let e=t.map(n=>ue(n));try{let{data:n,errors:o}=await vt.request(`
        query ($ids: [ID!]!) {
        nodes(ids: $ids) {
            ... on Product {
              id
              handle
              title
              gameType:  metafield(namespace:"custom", key:"game_type"){ value }
              startTime: metafield(namespace:"custom", key:"start_time"){ value }
              duration:  metafield(namespace:"custom", key:"duration"){ value }
              format:    metafield(namespace:"custom", key:"format"){ value }
              totalCap:  metafield(namespace:"custom", key:"total_cap"){ value }
              variants(first: 50) {
                edges { node {
                  id
                  price { amount }
                  quantityAvailable
                  selectedOptions { name value }
                }}
              }
            }
          }
        }
      `,{variables:{ids:e}});if(o)throw new Error(o.graphQLErrors?.[0]?.message||o.message);return n.nodes}catch(n){return console.error("Error fetching products by IDs:",n),[]}}var Me=t=>{let e=t.getContext("2d");if(!e)return;let{cos:n,sin:o,sqrt:m,acos:p,atan2:f,abs:c,PI:a}=Math,i=(y,g,A)=>A<y?y:A>g?g:A,r=12,s=1,l=devicePixelRatio,u=2e4;function d(){let y=t.getBoundingClientRect(),{width:g,height:A}=y;t.width=g*l,t.height=A*l,t.style.width=`${g}px`,t.style.height=`${A}px`;let b=Math.min(g,A)/2;return{width:g,height:A,RADIUS:b}}let{width:h,height:E,RADIUS:v}=d(),T=(y=0,g=0,A=0)=>({x:y,y:g,z:A});T.set=(y,g=0,A=0,b=0)=>(y.x=g,y.y=A,y.z=b,y);let Ve=T(0,0,1),M,V;function Ke(y,{x:g,y:A,z:b}){let D=n(M),P=o(M),L=n(V),x=o(V),N=g*D+A*P;return T.set(y,A*D-g*P,L*b-x*N,L*N+x*b)}let Be=T();function de(y,g=0){if(!e)return;let{x:A,y:b,z:D}=Ke(Be,y),P=f(b,A),L=m(1-g*g),x=L*c(D),N=m(A*A+b*b),K=p(i(-1,1,g*(1/N-N)/x)),je=D>0?2*a-K:-K;e.beginPath(),e.ellipse(A*g*v,b*g*v,x*v,L*v,P,K,je,D<=0),e.stroke()}let Ge=T();function Qe(){for(let y=r;y--;){let g=y/r*Math.PI;de(T.set(Ge,n(g),o(g)))}for(let y=r-1;y--;){let g=(y+1)/r*Math.PI;de(Ve,n(g))}}e.lineCap="round";function me(){if(!e)return;requestAnimationFrame(me);let y=d();h=y.width,E=y.height,v=y.RADIUS,M=performance.now()/u*a,V=a*.1,e.save(),e.scale(l,l),e.clearRect(0,0,h,E),e.translate(h/2,E/2),e.rotate(3*a/180),e.scale(1,-1),e.strokeStyle="#2b46f5",e.lineWidth=s,e.beginPath(),e.arc(0,0,v,0,2*Math.PI),e.stroke(),e.lineWidth=s,e.strokeStyle="#2b46f5",Qe(),e.restore()}requestAnimationFrame(me)};window.Webflow||(window.Webflow=[]);window.Webflow.push(async()=>{ye();let t=document.querySelector('[data-role="globe-canvas"]');t&&Me(t);let e=Array.from(document.querySelectorAll('[ll-selector="accordion"]'));e.length>0?ve(e):console.info("No accordion elements found.");let n=Array.from(document.querySelectorAll("[data-product-id]"));if(!n||n.length===0)return;let o=[...new Set(n.map(c=>c.getAttribute("data-product-id")).filter(Boolean))],m=await Ue(o),p=new Map;(Array.isArray(m)?m:[]).forEach(c=>{if(!c){console.error("Invalid product data:",c);return}let a=(c.variants?.edges||[]).map(d=>{let h=d.node,E=Object.fromEntries((h.selectedOptions||[]).map(v=>[v.name,v.value]));return{id:h.id,qty:Number(h.quantityAvailable??0),price:Number(h.price?.amount??0),options:E}}),i=a.reduce((d,h)=>d+(h.qty||0),0),r=a.map(d=>d.price).filter(d=>Number.isFinite(d)),s=r.length?Math.min(...r):null,l=r.length?Math.max(...r):null,u={id:c.id,handle:c.handle,title:c.title,gameType:c.gameType?.value||"",start:c.startTime?.value?new Date(c.startTime.value):null,durationMin:c.duration?.value?Number(c.duration.value):null,format:c.format?.value||null,totalCap:c.totalCap?.value?Number(c.totalCap.value):null,variants:a,seatsLeft:i,minPrice:s,maxPrice:l,currency:a[0]?.price&&c.variants?.edges?.[0]?.node?.price?.currencyCode||"USD"};p.set(u.id,u)}),n.forEach(c=>{let a=c.getAttribute("data-product-id");if(!a){console.error(`Product ID not found for card: ${c}`);return}let i=p.get(ue(a));if(!i){console.error(`Product not found: ${a}`);return}if(i.minPrice!=null){let E="";i.maxPrice!=null&&i.maxPrice!==i.minPrice?E=`${O(i.minPrice,i.currency)} \u2014 ${O(i.maxPrice,i.currency)}`:E=i.minPrice===0?"Free":O(i.minPrice,i.currency),S(c,"price",E)}S(c,"gameType",i.gameType||""),S(c,"format",i.format||""),S(c,"duration",i.durationMin?`${i.durationMin} MINS`:""),i.start&&(S(c,"date",fe(i.start)),S(c,"time",Ee(i.start)));let r=new Date,s=i.start?i.start<r:!1,l=i.seatsLeft>0,u=l&&!s,d="";s?d="Past Event":l?d=`${i.seatsLeft} ${i.totalCap&&i.totalCap>0?`/ ${i.totalCap} Open`:"Open"}`:d="Sold Out",S(c,"seats",d),c.classList.toggle("active",u);let h=c.querySelector('[data-role="link"]');h&&(u?(h.style.display="block",h.removeAttribute("aria-hidden"),h.removeAttribute("tabindex")):(h.style.display="none",h.setAttribute("aria-hidden","true"),h.setAttribute("tabindex","-1")),h.getAttribute("aria-label")||h.setAttribute("aria-label",i.title||"View event")),u?(c.classList.remove("inactive","past-event","sold-out"),c.removeAttribute("aria-disabled")):(c.classList.add("inactive"),c.setAttribute("aria-disabled","true"),s&&c.classList.add("past-event"),!l&&!s&&c.classList.add("sold-out"))})});})();
