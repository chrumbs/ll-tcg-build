"use strict";(()=>{var We=Object.create;var he=Object.defineProperty;var Xe=Object.getOwnPropertyDescriptor;var Ye=Object.getOwnPropertyNames;var ze=Object.getPrototypeOf,Je=Object.prototype.hasOwnProperty;var Ze=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var et=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let m of Ye(e))!Je.call(t,m)&&m!==n&&he(t,m,{get:()=>e[m],enumerable:!(s=Xe(e,m))||s.enumerable});return t};var tt=(t,e,n)=>(n=t!=null?We(ze(t)):{},et(e||!t||!t.__esModule?he(n,"default",{value:t,enumerable:!0}):n,t));var ge=Ze((It,O)=>{"use strict";(function(t){let e=0,n=function(s,m){let f="js-enabled",p=this,c=!1;if(Array.isArray(s))return!!s.length&&s.map(r=>new n(r,m));let a={init(){this.options=Object.assign({duration:500,ariaEnabled:!0,collapse:!0,showMultiple:!1,onlyChildNodes:!0,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active",beforeOpen:()=>{},onOpen:()=>{},beforeClose:()=>{},onClose:()=>{}},m);let r=typeof s=="string";this.container=r?document.querySelector(s):s,this.createDefinitions(),p.attachEvents()},createDefinitions(){let{elementClass:r,openOnInit:o,onlyChildNodes:l}=this.options,u=l?this.container.childNodes:this.container.querySelectorAll(i(r));this.elements=Array.from(u).filter(d=>d.classList&&d.classList.contains(r)),this.firstElement=this.elements[0],this.lastElement=this.elements[this.elements.length-1],this.elements.filter(d=>!d.classList.contains(f)).forEach(d=>{d.classList.add(f),this.generateIDs(d),this.setARIA(d),this.setTransition(d);let h=this.elements.indexOf(d);e++,o.includes(h)?this.showElement(d,!1):this.closeElement(d,!1)})},setTransition(r){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],{duration:l,panelClass:u}=this.options;r.querySelector(i(u)).style.transitionDuration=o?null:"".concat(l,"ms")},generateIDs(r){let{triggerClass:o,panelClass:l}=this.options,u=r.querySelector(i(o)),d=r.querySelector(i(l));r.setAttribute("id",r.id||"ac-".concat(e)),u.setAttribute("id",u.id||"ac-trigger-".concat(e)),d.setAttribute("id",d.id||"ac-panel-".concat(e))},removeIDs(r){let{triggerClass:o,panelClass:l}=this.options,u=r.querySelector(i(o)),d=r.querySelector(i(l));r.id.startsWith("ac-")&&r.removeAttribute("id"),u.id.startsWith("ac-")&&u.removeAttribute("id"),d.id.startsWith("ac-")&&d.removeAttribute("id")},setARIA(r){let{ariaEnabled:o,triggerClass:l,panelClass:u}=this.options;if(!o)return;let d=r.querySelector(i(l)),h=r.querySelector(i(u));d.setAttribute("role","button"),d.setAttribute("aria-controls",h.id),d.setAttribute("aria-disabled",!1),d.setAttribute("aria-expanded",!1),h.setAttribute("role","region"),h.setAttribute("aria-labelledby",d.id)},updateARIA(r,o){let{ariaExpanded:l,ariaDisabled:u}=o,{ariaEnabled:d,triggerClass:h}=this.options;if(!d)return;let E=r.querySelector(i(h));E.setAttribute("aria-expanded",l),E.setAttribute("aria-disabled",u)},removeARIA(r){let{ariaEnabled:o,triggerClass:l,panelClass:u}=this.options;if(!o)return;let d=r.querySelector(i(l)),h=r.querySelector(i(u));d.removeAttribute("role"),d.removeAttribute("aria-controls"),d.removeAttribute("aria-disabled"),d.removeAttribute("aria-expanded"),h.removeAttribute("role"),h.removeAttribute("aria-labelledby")},focus(r,o){r.preventDefault();let{triggerClass:l}=this.options;o.querySelector(i(l)).focus()},focusFirstElement(r){this.focus(r,this.firstElement),this.currFocusedIdx=0},focusLastElement(r){this.focus(r,this.lastElement),this.currFocusedIdx=this.elements.length-1},focusNextElement(r){let o=this.currFocusedIdx+1;if(o>this.elements.length-1)return this.focusFirstElement(r);this.focus(r,this.elements[o]),this.currFocusedIdx=o},focusPrevElement(r){let o=this.currFocusedIdx-1;if(o<0)return this.focusLastElement(r);this.focus(r,this.elements[o]),this.currFocusedIdx=o},showElement(r){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],{panelClass:l,activeClass:u,collapse:d,beforeOpen:h}=this.options;o&&h(r);let E=r.querySelector(i(l)),v=E.scrollHeight;r.classList.add(u),requestAnimationFrame(()=>{requestAnimationFrame(()=>{E.style.height=o?"".concat(v,"px"):"auto"})}),this.updateARIA(r,{ariaExpanded:!0,ariaDisabled:!d})},closeElement(r){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],{panelClass:l,activeClass:u,beforeClose:d}=this.options,h=r.querySelector(i(l)),E=h.scrollHeight;r.classList.remove(u),o?(d(r),requestAnimationFrame(()=>{h.style.height="".concat(E,"px"),requestAnimationFrame(()=>{h.style.height=0})})):h.style.height=0,this.updateARIA(r,{ariaExpanded:!1,ariaDisabled:!1})},toggleElement(r){let{activeClass:o,collapse:l}=this.options,u=r.classList.contains(o);if(!u||l)return u?this.closeElement(r):this.showElement(r)},closeElements(){let{activeClass:r,showMultiple:o}=this.options;o||this.elements.forEach((l,u)=>{l.classList.contains(r)&&u!==this.currFocusedIdx&&this.closeElement(l)})},handleClick(r){let o=r.currentTarget;this.elements.forEach((l,u)=>{l.contains(o)&&r.target.nodeName!=="A"&&(this.currFocusedIdx=u,this.closeElements(),this.focus(r,l),this.toggleElement(l))})},handleKeydown(r){switch(r.key){case"ArrowUp":return this.focusPrevElement(r);case"ArrowDown":return this.focusNextElement(r);case"Home":return this.focusFirstElement(r);case"End":return this.focusLastElement(r);default:return null}},handleFocus(r){let o=r.currentTarget,l=this.elements.find(u=>u.contains(o));this.currFocusedIdx=this.elements.indexOf(l)},handleTransitionEnd(r){if(r.stopPropagation(),r.propertyName!=="height")return;let{onOpen:o,onClose:l}=this.options,u=r.currentTarget,d=parseInt(u.style.height),h=this.elements.find(E=>E.contains(u));d>0?(u.style.height="auto",o(h)):l(h)}};this.attachEvents=()=>{if(c)return;let{triggerClass:r,panelClass:o}=a.options;a.handleClick=a.handleClick.bind(a),a.handleKeydown=a.handleKeydown.bind(a),a.handleFocus=a.handleFocus.bind(a),a.handleTransitionEnd=a.handleTransitionEnd.bind(a),a.elements.forEach(l=>{let u=l.querySelector(i(r)),d=l.querySelector(i(o));u.addEventListener("click",a.handleClick),u.addEventListener("keydown",a.handleKeydown),u.addEventListener("focus",a.handleFocus),d.addEventListener("transitionend",a.handleTransitionEnd)}),c=!0},this.detachEvents=()=>{if(!c)return;let{triggerClass:r,panelClass:o}=a.options;a.elements.forEach(l=>{let u=l.querySelector(i(r)),d=l.querySelector(i(o));u.removeEventListener("click",a.handleClick),u.removeEventListener("keydown",a.handleKeydown),u.removeEventListener("focus",a.handleFocus),d.removeEventListener("transitionend",a.handleTransitionEnd)}),c=!1},this.toggle=r=>{let o=a.elements[r];o&&a.toggleElement(o)},this.open=r=>{let o=a.elements[r];o&&a.showElement(o)},this.openAll=()=>{let{activeClass:r,onOpen:o}=a.options;a.elements.forEach(l=>{l.classList.contains(r)||(a.showElement(l,!1),o(l))})},this.close=r=>{let o=a.elements[r];o&&a.closeElement(o)},this.closeAll=()=>{let{activeClass:r,onClose:o}=a.options;a.elements.forEach(l=>{l.classList.contains(r)&&(a.closeElement(l,!1),o(l))})},this.destroy=()=>{this.detachEvents(),this.openAll(),a.elements.forEach(r=>{a.removeIDs(r),a.removeARIA(r),a.setTransition(r,!0),r.classList.remove(f)}),c=!0},this.update=()=>{a.createDefinitions(),this.detachEvents(),this.attachEvents()};let i=r=>".".concat(CSS.escape(r));a.init()};typeof O<"u"&&O.exports!==void 0?O.exports=n:t.Accordion=n})(window)});var fe="America/Los_Angeles",rt=new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:fe}),nt=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:fe}),pe=t=>{let e=new Date(t);return rt.format(e)},Ee=t=>{let e=new Date(t);return nt.format(e)},q=(t,e="USD")=>t==null?"":new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:2}).format(t);function ye(){console.log("Initializing page transitions");let t=1300,e=800,n=".no-transition",s=document.querySelector('[ll-selector="loader"]');if(console.log("Loader element:",s),!s)return;s.style.opacity="1",s.style.display="flex",s.style.transition=`opacity ${t}ms ease`;let m=()=>{console.log("Hiding loader"),s&&(s.style.opacity="0",setTimeout(()=>{s.style.display="none"},t))},f=()=>{s&&(s.style.display="flex",s.offsetWidth,s.style.opacity="1")};console.log("Executing intro animation directly"),document.body.classList.add("no-scroll-transition"),setTimeout(()=>{m(),document.body.classList.remove("no-scroll-transition")},500),document.addEventListener("click",c=>{let i=c.target.closest("a");if(!i)return;let r=i.getAttribute("href");if(i.hostname!==window.location.hostname||!r||r.includes("#")||r.endsWith("/")&&r.indexOf("#")!==-1||i.matches(n)||i.getAttribute("target")==="_blank"||i.getAttribute("download")!==null)return;c.preventDefault();let o=i.getAttribute("href");o&&(document.body.classList.add("no-scroll-transition"),f(),setTimeout(()=>{window.location.href=o},e))}),window.addEventListener("pageshow",c=>{console.log("Page show"),c.persisted&&(m(),document.body.classList.remove("no-scroll-transition"))});let p;window.addEventListener("resize",()=>{clearTimeout(p),p=window.setTimeout(()=>{s&&(s.style.display="none")},50)})}var Ae=tt(ge(),1),ve=function(t){new Ae.default(t,{showMultiple:!0})};var S=(t,e,n)=>{let s=t.querySelector(`[data-field="${e}"]`);if(!s){console.warn(`Element with data-field="${e}" not found`);return}s.textContent=n};var R="GraphQL Client";var B="An error occurred while fetching from the API. Review 'graphQLErrors' for details.",G="Response returned unexpected Content-Type:",Q="An unknown error has occurred. The API did not return a data object or any errors in its response.",$={json:"application/json",multipart:"multipart/mixed"},j="X-SDK-Variant",W="X-SDK-Version",Te="shopify-graphql-client",be="1.4.1",k=1e3,Ie=[429,503],X=/@(defer)\b/i,we=`\r
`,Ce=/boundary="?([^=";]+)"?/i,Y=we+we;function I(t,e=R){return t.startsWith(`${e}`)?t:`${e}: ${t}`}function C(t){return t instanceof Error?t.message:JSON.stringify(t)}function z(t){return t instanceof Error&&t.cause?t.cause:void 0}function J(t){return t.flatMap(({errors:e})=>e??[])}function F({client:t,retries:e}){if(e!==void 0&&(typeof e!="number"||e<0||e>3))throw new Error(`${t}: The provided "retries" value (${e}) is invalid - it cannot be less than ${0} or greater than ${3}`)}function w(t,e){return e&&(typeof e!="object"||Array.isArray(e)||typeof e=="object"&&Object.keys(e).length>0)?{[t]:e}:{}}function Z(t,e){if(t.length===0)return e;let s={[t.pop()]:e};return t.length===0?s:Z(t,s)}function De(t,e){return Object.keys(e||{}).reduce((n,s)=>(typeof e[s]=="object"||Array.isArray(e[s]))&&t[s]?(n[s]=De(t[s],e[s]),n):(n[s]=e[s],n),Array.isArray(t)?[...t]:{...t})}function ee([t,...e]){return e.reduce(De,{...t})}function te({clientLogger:t,customFetchApi:e=fetch,client:n=R,defaultRetryWaitTime:s=k,retriableCodes:m=Ie}){let f=async(p,c,a)=>{let i=c+1,r=a+1,o;try{if(o=await e(...p),t({type:"HTTP-Response",content:{requestParams:p,response:o}}),!o.ok&&m.includes(o.status)&&i<=r)throw new Error;let l=o?.headers.get("X-Shopify-API-Deprecated-Reason")||"";return l&&t({type:"HTTP-Response-GraphQL-Deprecation-Notice",content:{requestParams:p,deprecationNotice:l}}),o}catch(l){if(i<=r){let u=o?.headers.get("Retry-After");return await st(u?parseInt(u,10):s),t({type:"HTTP-Retry",content:{requestParams:p,lastResponse:o,retryAttempt:c,maxRetries:a}}),f(p,i,a)}throw new Error(I(`${a>0?`Attempted maximum number of ${a} network retries. Last message - `:""}${C(l)}`,n))}};return f}async function st(t){return new Promise(e=>setTimeout(e,t))}function re({headers:t,url:e,customFetchApi:n=fetch,retries:s=0,logger:m}){F({client:R,retries:s});let f={headers:t,url:e,retries:s},p=ot(m),c=te({customFetchApi:n,clientLogger:p,defaultRetryWaitTime:k}),a=at(c,f),i=it(a),r=ft(a);return{config:f,fetch:a,request:i,requestStream:r}}function ot(t){return e=>{t&&t(e)}}async function _e(t){let{errors:e,data:n,extensions:s}=await t.json();return{...w("data",n),...w("extensions",s),headers:t.headers,...e||!n?{errors:{networkStatusCode:t.status,message:I(e?B:Q),...w("graphQLErrors",e),response:t}}:{}}}function at(t,{url:e,headers:n,retries:s}){return async(m,f={})=>{let{variables:p,headers:c,url:a,retries:i,keepalive:r,signal:o}=f,l=JSON.stringify({query:m,variables:p});F({client:R,retries:i});let u=Object.entries({...n,...c}).reduce((h,[E,v])=>(h[E]=Array.isArray(v)?v.join(", "):v.toString(),h),{});return!u[j]&&!u[W]&&(u[j]=Te,u[W]=be),t([a??e,{method:"POST",headers:u,body:l,signal:o,keepalive:r}],1,i??s)}}function it(t){return async(...e)=>{if(X.test(e[0]))throw new Error(I("This operation will result in a streamable response - use requestStream() instead."));let n=null;try{n=await t(...e);let{status:s,statusText:m}=n,f=n.headers.get("content-type")||"";return n.ok?f.includes($.json)?await _e(n):{errors:{networkStatusCode:s,message:I(`${G} ${f}`),response:n}}:{errors:{networkStatusCode:s,message:I(m),response:n}}}catch(s){return{errors:{message:C(s),...n==null?{}:{networkStatusCode:n.status,response:n}}}}}}async function*ct(t){let e=new TextDecoder;if(t.body[Symbol.asyncIterator])for await(let n of t.body)yield e.decode(n);else{let n=t.body.getReader(),s;try{for(;!(s=await n.read()).done;)yield e.decode(s.value)}finally{n.cancel()}}}function lt(t,e){return{async*[Symbol.asyncIterator](){try{let n="";for await(let s of t)if(n+=s,n.indexOf(e)>-1){let m=n.lastIndexOf(e),p=n.slice(0,m).split(e).filter(c=>c.trim().length>0).map(c=>c.slice(c.indexOf(Y)+Y.length).trim());p.length>0&&(yield p),n=n.slice(m+e.length),n.trim()==="--"&&(n="")}}catch(n){throw new Error(`Error occured while processing stream payload - ${C(n)}`)}}}}function ut(t){return{async*[Symbol.asyncIterator](){yield{...await _e(t),hasNext:!1}}}}function dt(t){return t.map(e=>{try{return JSON.parse(e)}catch(n){throw new Error(`Error in parsing multipart response - ${C(n)}`)}}).map(e=>{let{data:n,incremental:s,hasNext:m,extensions:f,errors:p}=e;if(!s)return{data:n||{},...w("errors",p),...w("extensions",f),hasNext:m};let c=s.map(({data:a,path:i,errors:r})=>({data:a&&i?Z(i,a):{},...w("errors",r)}));return{data:c.length===1?c[0].data:ee([...c.map(({data:a})=>a)]),...w("errors",J(c)),hasNext:m}})}function mt(t,e){if(t.length>0)throw new Error(B,{cause:{graphQLErrors:t}});if(Object.keys(e).length===0)throw new Error(Q)}function ht(t,e){let n=(e??"").match(Ce),s=`--${n?n[1]:"-"}`;if(!t.body?.getReader&&!t.body?.[Symbol.asyncIterator])throw new Error("API multipart response did not return an iterable body",{cause:t});let m=ct(t),f={},p;return{async*[Symbol.asyncIterator](){try{let c=!0;for await(let a of lt(m,s)){let i=dt(a);p=i.find(o=>o.extensions)?.extensions??p;let r=J(i);f=ee([f,...i.map(({data:o})=>o)]),c=i.slice(-1)[0].hasNext,mt(r,f),yield{...w("data",f),...w("extensions",p),hasNext:c}}if(c)throw new Error("Response stream terminated unexpectedly")}catch(c){let a=z(c);yield{...w("data",f),...w("extensions",p),errors:{message:I(C(c)),networkStatusCode:t.status,...w("graphQLErrors",a?.graphQLErrors),response:t},hasNext:!1}}}}}function ft(t){return async(...e)=>{if(!X.test(e[0]))throw new Error(I("This operation does not result in a streamable response - use request() instead."));try{let n=await t(...e),{statusText:s}=n;if(!n.ok)throw new Error(s,{cause:n});let m=n.headers.get("content-type")||"";switch(!0){case m.includes($.json):return ut(n);case m.includes($.multipart):return ht(n,m);default:throw new Error(`${G} ${m}`,{cause:n})}}catch(n){return{async*[Symbol.asyncIterator](){let s=z(n);yield{errors:{message:I(C(n)),...w("networkStatusCode",s?.status),...w("response",s)},hasNext:!1}}}}}}function ne({client:t,storeDomain:e}){try{if(!e||typeof e!="string")throw new Error;let n=e.trim(),s=n.match(/^https?:/)?n:`https://${n}`,m=new URL(s);return m.protocol="https",m.origin}catch(n){throw new Error(`${t}: a valid store domain ("${e}") must be provided`,{cause:n})}}function H({client:t,currentSupportedApiVersions:e,apiVersion:n,logger:s}){let m=`${t}: the provided apiVersion ("${n}")`,f=`Currently supported API versions: ${e.join(", ")}`;if(!n||typeof n!="string")throw new Error(`${m} is invalid. ${f}`);let p=n.trim();e.includes(p)||(s?s({type:"Unsupported_Api_Version",content:{apiVersion:n,supportedApiVersions:e}}):console.warn(`${m} is likely deprecated or not supported. ${f}`))}function U(t){let e=t*3-2;return e===10?e:`0${e}`}function se(t,e,n){let s=e-n;return s<=0?`${t-1}-${U(s+4)}`:`${t}-${U(s)}`}function Le(){let t=new Date,e=t.getUTCMonth(),n=t.getUTCFullYear(),s=Math.floor(e/3+1);return{year:n,quarter:s,version:`${n}-${U(s)}`}}function oe(){let{year:t,quarter:e,version:n}=Le(),s=e===4?`${t+1}-01`:`${t}-${U(e+1)}`;return[se(t,e,3),se(t,e,2),se(t,e,1),n,s,"unstable"]}function ae(t){return e=>({...e??{},...t.headers})}function ie({getHeaders:t,getApiUrl:e}){return(n,s)=>{let m=[n];if(s&&Object.keys(s).length>0){let{variables:f,apiVersion:p,headers:c,retries:a,signal:i}=s;m.push({...f?{variables:f}:{},...c?{headers:t(c)}:{},...p?{url:e(p)}:{},...a?{retries:a}:{},...i?{signal:i}:{}})}return m}}var ce="application/json",xe="storefront-api-client",Ne="1.0.9",Pe="X-Shopify-Storefront-Access-Token",qe="Shopify-Storefront-Private-Token",Oe="X-SDK-Variant",$e="X-SDK-Version",ke="X-SDK-Variant-Source",D="Storefront API Client";function Fe(t){if(t&&typeof window<"u")throw new Error(`${D}: private access tokens and headers should only be used in a server-to-server implementation. Use the public API access token in nonserver environments.`)}function He(t,e){if(!t&&!e)throw new Error(`${D}: a public or private access token must be provided`);if(t&&e)throw new Error(`${D}: only provide either a public or private access token`)}function le({storeDomain:t,apiVersion:e,publicAccessToken:n,privateAccessToken:s,clientName:m,retries:f=0,customFetchApi:p,logger:c}){let a=oe(),i=ne({client:D,storeDomain:t}),r={client:D,currentSupportedApiVersions:a,logger:c};H({...r,apiVersion:e}),He(n,s),Fe(s);let o=pt(i,e,r),l={storeDomain:i,apiVersion:e,...n?{publicAccessToken:n}:{privateAccessToken:s},headers:{"Content-Type":ce,Accept:ce,[Oe]:xe,[$e]:Ne,...m?{[ke]:m}:{},...n?{[Pe]:n}:{[qe]:s}},apiUrl:o(),clientName:m},u=re({headers:l.headers,url:l.apiUrl,retries:f,customFetchApi:p,logger:c}),d=ae(l),h=Et(l,o),E=ie({getHeaders:d,getApiUrl:h});return Object.freeze({config:l,getHeaders:d,getApiUrl:h,fetch:(...T)=>u.fetch(...E(...T)),request:(...T)=>u.request(...E(...T)),requestStream:(...T)=>u.requestStream(...E(...T))})}function pt(t,e,n){return s=>{s&&H({...n,apiVersion:s});let m=(s??e).trim();return`${t}/api/${m}/graphql.json`}}function Et(t,e){return n=>n?e(n):t.apiUrl}function ue(t){if(!t)throw new Error("Invalid product ID");return t.startsWith("gid://")?t:`gid://shopify/Product/${t}`}var yt="shop.lostlevelsarcade.com",gt="51611eac4adbd8d8496b9a639e0c3ef2",At="2025-07",vt=le({storeDomain:yt,apiVersion:At,publicAccessToken:gt});async function Ue(t){if(!t||t.length===0)return[];let e=t.map(n=>ue(n));try{let{data:n,errors:s}=await vt.request(`
        query ($ids: [ID!]!) {
        nodes(ids: $ids) {
            ... on Product {
              id
              handle
              title
              gameType:  metafield(namespace:"custom", key:"game_type"){ value }
              startTime: metafield(namespace:"custom", key:"start_time"){ value }
              duration:  metafield(namespace:"custom", key:"duration"){ value }
              format:    metafield(namespace:"custom", key:"format"){ value }
              variants(first: 50) {
                edges { node {
                  id
                  price { amount }
                  quantityAvailable
                  selectedOptions { name value }
                }}
              }
            }
          }
        }
      `,{variables:{ids:e}});if(s)throw new Error(s.graphQLErrors?.[0]?.message||s.message);return n.nodes}catch(n){return console.error("Error fetching products by IDs:",n),[]}}var Me=t=>{let e=t.getContext("2d");if(!e)return;let{cos:n,sin:s,sqrt:m,acos:f,atan2:p,abs:c,PI:a}=Math,i=(y,g,A)=>A<y?y:A>g?g:A,r=12,o=1,l=devicePixelRatio,u=2e4;function d(){let y=t.getBoundingClientRect(),{width:g,height:A}=y;t.width=g*l,t.height=A*l,t.style.width=`${g}px`,t.style.height=`${A}px`;let b=Math.min(g,A)/2;return{width:g,height:A,RADIUS:b}}let{width:h,height:E,RADIUS:v}=d(),T=(y=0,g=0,A=0)=>({x:y,y:g,z:A});T.set=(y,g=0,A=0,b=0)=>(y.x=g,y.y=A,y.z=b,y);let Ve=T(0,0,1),M,V;function Ke(y,{x:g,y:A,z:b}){let _=n(M),P=s(M),L=n(V),x=s(V),N=g*_+A*P;return T.set(y,A*_-g*P,L*b-x*N,L*N+x*b)}let Be=T();function de(y,g=0){if(!e)return;let{x:A,y:b,z:_}=Ke(Be,y),P=p(b,A),L=m(1-g*g),x=L*c(_),N=m(A*A+b*b),K=f(i(-1,1,g*(1/N-N)/x)),je=_>0?2*a-K:-K;e.beginPath(),e.ellipse(A*g*v,b*g*v,x*v,L*v,P,K,je,_<=0),e.stroke()}let Ge=T();function Qe(){for(let y=r;y--;){let g=y/r*Math.PI;de(T.set(Ge,n(g),s(g)))}for(let y=r-1;y--;){let g=(y+1)/r*Math.PI;de(Ve,n(g))}}e.lineCap="round";function me(){if(!e)return;requestAnimationFrame(me);let y=d();h=y.width,E=y.height,v=y.RADIUS,M=performance.now()/u*a,V=a*.1,e.save(),e.scale(l,l),e.clearRect(0,0,h,E),e.translate(h/2,E/2),e.rotate(3*a/180),e.scale(1,-1),e.strokeStyle="#2b46f5",e.lineWidth=o,e.beginPath(),e.arc(0,0,v,0,2*Math.PI),e.stroke(),e.lineWidth=o,e.strokeStyle="#2b46f5",Qe(),e.restore()}requestAnimationFrame(me)};window.Webflow||(window.Webflow=[]);window.Webflow.push(async()=>{ye();let t=document.querySelector('[data-role="globe-canvas"]');t&&Me(t);let e=Array.from(document.querySelectorAll('[ll-selector="accordion"]'));e.length>0?ve(e):console.log("No accordion elements found.");let n=Array.from(document.querySelectorAll("[data-product-id]"));if(!n||n.length===0)return;let s=[...new Set(n.map(c=>c.getAttribute("data-product-id")).filter(Boolean))],m=await Ue(s),f=new Map,p=Array.isArray(m)?m:[];console.log("Fetched products:",p),p.forEach(c=>{if(!c){console.error("Invalid product data:",c);return}let a=(c.variants?.edges||[]).map(d=>{let h=d.node,E=Object.fromEntries((h.selectedOptions||[]).map(v=>[v.name,v.value]));return{id:h.id,qty:Number(h.quantityAvailable??0),price:Number(h.price?.amount??0),options:E}}),i=a.reduce((d,h)=>d+(h.qty||0),0),r=a.map(d=>d.price).filter(d=>Number.isFinite(d)),o=r.length?Math.min(...r):null,l=r.length?Math.max(...r):null,u={id:c.id,handle:c.handle,title:c.title,gameType:c.gameType?.value||"",start:c.startTime?.value?new Date(c.startTime.value):null,durationMin:c.duration?.value?Number(c.duration.value):null,format:c.format?.value||null,variants:a,seatsLeft:i,minPrice:o,maxPrice:l,currency:a[0]?.price&&c.variants?.edges?.[0]?.node?.price?.currencyCode||"USD"};f.set(u.id,u)}),n.forEach(c=>{let a=c.getAttribute("data-product-id");if(!a){console.error(`Product ID not found for card: ${c}`);return}let i=f.get(ue(a));if(!i){console.error(`Product not found: ${a}`);return}if(i.minPrice!=null){let E="";i.maxPrice!=null&&i.maxPrice!==i.minPrice?E=`${q(i.minPrice,i.currency)} \u2014 ${q(i.maxPrice,i.currency)}`:E=i.minPrice===0?"Free":q(i.minPrice,i.currency),S(c,"price",E)}S(c,"gameType",i.gameType||""),S(c,"format",i.format||""),S(c,"duration",i.durationMin?`${i.durationMin} MINS`:""),i.start&&(S(c,"date",pe(i.start)),S(c,"time",Ee(i.start)));let r=new Date,o=i.start?i.start<r:!1,l=i.seatsLeft>0,u=l&&!o,d="";o?d="Past Event":l?d=`${i.seatsLeft} Seat${i.seatsLeft===1?"":"s"} Open`:d="Sold Out",S(c,"seats",d),c.classList.toggle("active",u);let h=c.querySelector('[data-role="link"]');h&&(u?(h.style.display="block",h.removeAttribute("aria-hidden"),h.removeAttribute("tabindex")):(h.style.display="none",h.setAttribute("aria-hidden","true"),h.setAttribute("tabindex","-1")),h.getAttribute("aria-label")||h.setAttribute("aria-label",i.title||"View event")),u?(c.classList.remove("inactive","past-event","sold-out"),c.removeAttribute("aria-disabled")):(c.classList.add("inactive"),c.setAttribute("aria-disabled","true"),o&&c.classList.add("past-event"),!l&&!o&&c.classList.add("sold-out"))})});})();
