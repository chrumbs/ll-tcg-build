"use strict";(()=>{var Z="America/Los_Angeles",Re=new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:Z}),we=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:Z}),z=e=>{let t=new Date(e);return Re.format(t)},ee=e=>{let t=new Date(e);return we.format(t)},S=(e,t="USD")=>e==null?"":new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:2}).format(e);var g=(e,t,r)=>{let n=e.querySelector(`[data-field="${t}"]`);if(!n){console.warn(`Element with data-field="${t}" not found`);return}n.textContent=r};var A="GraphQL Client";var N="An error occurred while fetching from the API. Review 'graphQLErrors' for details.",x="Response returned unexpected Content-Type:",P="An unknown error has occurred. The API did not return a data object or any errors in its response.",C={json:"application/json",multipart:"multipart/mixed"},$="X-SDK-Variant",O="X-SDK-Version",re="shopify-graphql-client",ne="1.4.1",b=1e3,oe=[429,503],V=/@(defer)\b/i,te=`\r
`,ae=/boundary="?([^=";]+)"?/i,U=te+te;function E(e,t=A){return e.startsWith(`${t}`)?e:`${t}: ${e}`}function y(e){return e instanceof Error?e.message:JSON.stringify(e)}function q(e){return e instanceof Error&&e.cause?e.cause:void 0}function H(e){return e.flatMap(({errors:t})=>t??[])}function v({client:e,retries:t}){if(t!==void 0&&(typeof t!="number"||t<0||t>3))throw new Error(`${e}: The provided "retries" value (${t}) is invalid - it cannot be less than ${0} or greater than ${3}`)}function p(e,t){return t&&(typeof t!="object"||Array.isArray(t)||typeof t=="object"&&Object.keys(t).length>0)?{[e]:t}:{}}function k(e,t){if(e.length===0)return t;let n={[e.pop()]:t};return e.length===0?n:k(e,n)}function ce(e,t){return Object.keys(t||{}).reduce((r,n)=>(typeof t[n]=="object"||Array.isArray(t[n]))&&e[n]?(r[n]=ce(e[n],t[n]),r):(r[n]=t[n],r),Array.isArray(e)?[...e]:{...e})}function F([e,...t]){return t.reduce(ce,{...e})}function M({clientLogger:e,customFetchApi:t=fetch,client:r=A,defaultRetryWaitTime:n=b,retriableCodes:s=oe}){let o=async(i,a,c)=>{let u=a+1,d=c+1,l;try{if(l=await t(...i),e({type:"HTTP-Response",content:{requestParams:i,response:l}}),!l.ok&&s.includes(l.status)&&u<=d)throw new Error;let m=l?.headers.get("X-Shopify-API-Deprecated-Reason")||"";return m&&e({type:"HTTP-Response-GraphQL-Deprecation-Notice",content:{requestParams:i,deprecationNotice:m}}),l}catch(m){if(u<=d){let f=l?.headers.get("Retry-After");return await Ie(f?parseInt(f,10):n),e({type:"HTTP-Retry",content:{requestParams:i,lastResponse:l,retryAttempt:a,maxRetries:c}}),o(i,u,c)}throw new Error(E(`${c>0?`Attempted maximum number of ${c} network retries. Last message - `:""}${y(m)}`,r))}};return o}async function Ie(e){return new Promise(t=>setTimeout(t,e))}function B({headers:e,url:t,customFetchApi:r=fetch,retries:n=0,logger:s}){v({client:A,retries:n});let o={headers:e,url:t,retries:n},i=_e(s),a=M({customFetchApi:r,clientLogger:i,defaultRetryWaitTime:b}),c=Se(a,o),u=Ce(c),d=Pe(c);return{config:o,fetch:c,request:u,requestStream:d}}function _e(e){return t=>{e&&e(t)}}async function ue(e){let{errors:t,data:r,extensions:n}=await e.json();return{...p("data",r),...p("extensions",n),headers:e.headers,...t||!r?{errors:{networkStatusCode:e.status,message:E(t?N:P),...p("graphQLErrors",t),response:e}}:{}}}function Se(e,{url:t,headers:r,retries:n}){return async(s,o={})=>{let{variables:i,headers:a,url:c,retries:u,keepalive:d,signal:l}=o,m=JSON.stringify({query:s,variables:i});v({client:A,retries:u});let f=Object.entries({...r,...a}).reduce((h,[w,_])=>(h[w]=Array.isArray(_)?_.join(", "):_.toString(),h),{});return!f[$]&&!f[O]&&(f[$]=re,f[O]=ne),e([c??t,{method:"POST",headers:f,body:m,signal:l,keepalive:d}],1,u??n)}}function Ce(e){return async(...t)=>{if(V.test(t[0]))throw new Error(E("This operation will result in a streamable response - use requestStream() instead."));let r=null;try{r=await e(...t);let{status:n,statusText:s}=r,o=r.headers.get("content-type")||"";return r.ok?o.includes(C.json)?await ue(r):{errors:{networkStatusCode:n,message:E(`${x} ${o}`),response:r}}:{errors:{networkStatusCode:n,message:E(s),response:r}}}catch(n){return{errors:{message:y(n),...r==null?{}:{networkStatusCode:r.status,response:r}}}}}}async function*be(e){let t=new TextDecoder;if(e.body[Symbol.asyncIterator])for await(let r of e.body)yield t.decode(r);else{let r=e.body.getReader(),n;try{for(;!(n=await r.read()).done;)yield t.decode(n.value)}finally{r.cancel()}}}function ve(e,t){return{async*[Symbol.asyncIterator](){try{let r="";for await(let n of e)if(r+=n,r.indexOf(t)>-1){let s=r.lastIndexOf(t),i=r.slice(0,s).split(t).filter(a=>a.trim().length>0).map(a=>a.slice(a.indexOf(U)+U.length).trim());i.length>0&&(yield i),r=r.slice(s+t.length),r.trim()==="--"&&(r="")}}catch(r){throw new Error(`Error occured while processing stream payload - ${y(r)}`)}}}}function De(e){return{async*[Symbol.asyncIterator](){yield{...await ue(e),hasNext:!1}}}}function Le(e){return e.map(t=>{try{return JSON.parse(t)}catch(r){throw new Error(`Error in parsing multipart response - ${y(r)}`)}}).map(t=>{let{data:r,incremental:n,hasNext:s,extensions:o,errors:i}=t;if(!n)return{data:r||{},...p("errors",i),...p("extensions",o),hasNext:s};let a=n.map(({data:c,path:u,errors:d})=>({data:c&&u?k(u,c):{},...p("errors",d)}));return{data:a.length===1?a[0].data:F([...a.map(({data:c})=>c)]),...p("errors",H(a)),hasNext:s}})}function Ne(e,t){if(e.length>0)throw new Error(N,{cause:{graphQLErrors:e}});if(Object.keys(t).length===0)throw new Error(P)}function xe(e,t){let r=(t??"").match(ae),n=`--${r?r[1]:"-"}`;if(!e.body?.getReader&&!e.body?.[Symbol.asyncIterator])throw new Error("API multipart response did not return an iterable body",{cause:e});let s=be(e),o={},i;return{async*[Symbol.asyncIterator](){try{let a=!0;for await(let c of ve(s,n)){let u=Le(c);i=u.find(l=>l.extensions)?.extensions??i;let d=H(u);o=F([o,...u.map(({data:l})=>l)]),a=u.slice(-1)[0].hasNext,Ne(d,o),yield{...p("data",o),...p("extensions",i),hasNext:a}}if(a)throw new Error("Response stream terminated unexpectedly")}catch(a){let c=q(a);yield{...p("data",o),...p("extensions",i),errors:{message:E(y(a)),networkStatusCode:e.status,...p("graphQLErrors",c?.graphQLErrors),response:e},hasNext:!1}}}}}function Pe(e){return async(...t)=>{if(!V.test(t[0]))throw new Error(E("This operation does not result in a streamable response - use request() instead."));try{let r=await e(...t),{statusText:n}=r;if(!r.ok)throw new Error(n,{cause:r});let s=r.headers.get("content-type")||"";switch(!0){case s.includes(C.json):return De(r);case s.includes(C.multipart):return xe(r,s);default:throw new Error(`${x} ${s}`,{cause:r})}}catch(r){return{async*[Symbol.asyncIterator](){let n=q(r);yield{errors:{message:E(y(r)),...p("networkStatusCode",n?.status),...p("response",n)},hasNext:!1}}}}}}function G({client:e,storeDomain:t}){try{if(!t||typeof t!="string")throw new Error;let r=t.trim(),n=r.match(/^https?:/)?r:`https://${r}`,s=new URL(n);return s.protocol="https",s.origin}catch(r){throw new Error(`${e}: a valid store domain ("${t}") must be provided`,{cause:r})}}function D({client:e,currentSupportedApiVersions:t,apiVersion:r,logger:n}){let s=`${e}: the provided apiVersion ("${r}")`,o=`Currently supported API versions: ${t.join(", ")}`;if(!r||typeof r!="string")throw new Error(`${s} is invalid. ${o}`);let i=r.trim();t.includes(i)||(n?n({type:"Unsupported_Api_Version",content:{apiVersion:r,supportedApiVersions:t}}):console.warn(`${s} is likely deprecated or not supported. ${o}`))}function L(e){let t=e*3-2;return t===10?t:`0${t}`}function K(e,t,r){let n=t-r;return n<=0?`${e-1}-${L(n+4)}`:`${e}-${L(n)}`}function de(){let e=new Date,t=e.getUTCMonth(),r=e.getUTCFullYear(),n=Math.floor(t/3+1);return{year:r,quarter:n,version:`${r}-${L(n)}`}}function Q(){let{year:e,quarter:t,version:r}=de(),n=t===4?`${e+1}-01`:`${e}-${L(t+1)}`;return[K(e,t,3),K(e,t,2),K(e,t,1),r,n,"unstable"]}function j(e){return t=>({...t??{},...e.headers})}function X({getHeaders:e,getApiUrl:t}){return(r,n)=>{let s=[r];if(n&&Object.keys(n).length>0){let{variables:o,apiVersion:i,headers:a,retries:c,signal:u}=n;s.push({...o?{variables:o}:{},...a?{headers:e(a)}:{},...i?{url:t(i)}:{},...c?{retries:c}:{},...u?{signal:u}:{}})}return s}}var Y="application/json",le="storefront-api-client",me="1.0.9",fe="X-Shopify-Storefront-Access-Token",pe="Shopify-Storefront-Private-Token",Ee="X-SDK-Variant",ye="X-SDK-Version",he="X-SDK-Variant-Source",T="Storefront API Client";function ge(e){if(e&&typeof window<"u")throw new Error(`${T}: private access tokens and headers should only be used in a server-to-server implementation. Use the public API access token in nonserver environments.`)}function Ae(e,t){if(!e&&!t)throw new Error(`${T}: a public or private access token must be provided`);if(e&&t)throw new Error(`${T}: only provide either a public or private access token`)}function W({storeDomain:e,apiVersion:t,publicAccessToken:r,privateAccessToken:n,clientName:s,retries:o=0,customFetchApi:i,logger:a}){let c=Q(),u=G({client:T,storeDomain:e}),d={client:T,currentSupportedApiVersions:c,logger:a};D({...d,apiVersion:t}),Ae(r,n),ge(n);let l=$e(u,t,d),m={storeDomain:u,apiVersion:t,...r?{publicAccessToken:r}:{privateAccessToken:n},headers:{"Content-Type":Y,Accept:Y,[Ee]:le,[ye]:me,...s?{[he]:s}:{},...r?{[fe]:r}:{[pe]:n}},apiUrl:l(),clientName:s},f=B({headers:m.headers,url:m.apiUrl,retries:o,customFetchApi:i,logger:a}),R=j(m),h=Oe(m,l),w=X({getHeaders:R,getApiUrl:h});return Object.freeze({config:m,getHeaders:R,getApiUrl:h,fetch:(...I)=>f.fetch(...w(...I)),request:(...I)=>f.request(...w(...I)),requestStream:(...I)=>f.requestStream(...w(...I))})}function $e(e,t,r){return n=>{n&&D({...r,apiVersion:n});let s=(n??t).trim();return`${e}/api/${s}/graphql.json`}}function Oe(e,t){return r=>r?t(r):e.apiUrl}function J(e){if(!e)throw new Error("Invalid product ID");return e.startsWith("gid://")?e:`gid://shopify/Product/${e}`}var Ve="ll-theme.myshopify.com",Ue="b2506cf21eef17d954028e02a4f3eb46",qe="2025-07",He=W({storeDomain:Ve,apiVersion:qe,publicAccessToken:Ue});async function Te(e){if(!e||e.length===0)return[];let t=e.map(r=>J(r));try{let{data:r,errors:n}=await He.request(`
        query ($ids: [ID!]!) {
        nodes(ids: $ids) {
            ... on Product {
              id
              handle
              title
              gameType:  metafield(namespace:"custom", key:"game_type"){ value }
              startTime: metafield(namespace:"custom", key:"start_time"){ value }
              duration:  metafield(namespace:"custom", key:"duration"){ value }
              format:    metafield(namespace:"custom", key:"format"){ value }
              variants(first: 50) {
                edges { node {
                  id
                  price { amount }
                  quantityAvailable
                  selectedOptions { name value }
                }}
              }
            }
          }
        }
      `,{variables:{ids:t}});if(n)throw new Error(n.graphQLErrors?.[0]?.message||n.message);return r.nodes}catch(r){return console.error("Error fetching products by IDs:",r),[]}}window.Webflow||(window.Webflow=[]);window.Webflow.push(async()=>{let e=Array.from(document.querySelectorAll("[data-product-id]"));if(!e||e.length===0)return;let t=[...new Set(e.map(o=>o.getAttribute("data-product-id")).filter(Boolean))],r=await Te(t),n=new Map;(Array.isArray(r)?r:[]).forEach(o=>{let i=(o.variants?.edges||[]).map(m=>{let f=m.node,R=Object.fromEntries((f.selectedOptions||[]).map(h=>[h.name,h.value]));return{id:f.id,qty:Number(f.quantityAvailable??0),price:Number(f.price?.amount??0),options:R}}),a=i.reduce((m,f)=>m+(f.qty||0),0),c=i.map(m=>m.price).filter(m=>Number.isFinite(m)),u=c.length?Math.min(...c):null,d=c.length?Math.max(...c):null,l={id:o.id,handle:o.handle,title:o.title,gameType:o.gameType?.value||"",start:o.startTime?.value?new Date(o.startTime.value):null,durationMin:o.duration?.value?Number(o.duration.value):null,format:o.format?.value||null,variants:i,seatsLeft:a,minPrice:u,maxPrice:d,currency:i[0]?.price&&o.variants?.edges?.[0]?.node?.price?.currencyCode||"USD"};n.set(l.id,l)}),e.forEach(o=>{let i=o.getAttribute("data-product-id");if(!i){console.error(`Product ID not found for card: ${o}`);return}let a=n.get(J(i));if(!a){console.error(`Product not found: ${i}`);return}if(a.minPrice!=null){let l="";a.maxPrice!=null&&a.maxPrice!==a.minPrice?l=`${S(a.minPrice,a.currency)} \u2014 ${S(a.maxPrice,a.currency)}`:l=a.minPrice===0?"Free":S(a.minPrice,a.currency),g(o,"price",l)}g(o,"gameType",a.gameType||""),g(o,"format",a.format||""),g(o,"duration",a.durationMin?`${a.durationMin} min`:""),a.start&&(g(o,"date",z(a.start)),g(o,"time",ee(a.start)));let c=a.seatsLeft>0?`${a.seatsLeft} seats left`:"Sold out";g(o,"seats",c);let u=a.seatsLeft>0;o.classList.toggle("is-clickable",u);let d=o.querySelector('[data-role="link"]');d&&(u?(d.style.display="block",d.removeAttribute("aria-hidden"),d.removeAttribute("tabindex")):(d.style.display="none",d.setAttribute("aria-hidden","true"),d.setAttribute("tabindex","-1")),d.getAttribute("aria-label")||d.setAttribute("aria-label",a.title||"View event")),u||(o.classList.add("is-soldout"),o.setAttribute("aria-disabled","true"))})});})();
