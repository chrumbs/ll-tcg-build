"use strict";(()=>{var $e=Object.create;var $=Object.defineProperty;var Be=Object.getOwnPropertyDescriptor;var Ge=Object.getOwnPropertyNames;var Qe=Object.getPrototypeOf,Ke=Object.prototype.hasOwnProperty;var je=(r,e,t)=>e in r?$(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ye=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var We=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Ge(e))!Ke.call(r,s)&&s!==t&&$(r,s,{get:()=>e[s],enumerable:!(n=Be(e,s))||n.enumerable});return r};var Xe=(r,e,t)=>(t=r!=null?$e(Qe(r)):{},We(e||!r||!r.__esModule?$(t,"default",{value:r,enumerable:!0}):t,r));var g=(r,e,t)=>je(r,typeof e!="symbol"?e+"":e,t);var ye=Ye((Lt,R)=>{"use strict";(function(r){let e=0,t=function(n,s){let i="js-enabled",l=this,d=!1;if(Array.isArray(n))return!!n.length&&n.map(o=>new t(o,s));let a={init(){this.options=Object.assign({duration:500,ariaEnabled:!0,collapse:!0,showMultiple:!1,onlyChildNodes:!0,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active",beforeOpen:()=>{},onOpen:()=>{},beforeClose:()=>{},onClose:()=>{}},s);let o=typeof n=="string";this.container=o?document.querySelector(n):n,this.createDefinitions(),l.attachEvents()},createDefinitions(){let{elementClass:o,openOnInit:c,onlyChildNodes:u}=this.options,m=u?this.container.childNodes:this.container.querySelectorAll(h(o));this.elements=Array.from(m).filter(p=>p.classList&&p.classList.contains(o)),this.firstElement=this.elements[0],this.lastElement=this.elements[this.elements.length-1],this.elements.filter(p=>!p.classList.contains(i)).forEach(p=>{p.classList.add(i),this.generateIDs(p),this.setARIA(p),this.setTransition(p);let f=this.elements.indexOf(p);e++,c.includes(f)?this.showElement(p,!1):this.closeElement(p,!1)})},setTransition(o){let c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],{duration:u,panelClass:m}=this.options;o.querySelector(h(m)).style.transitionDuration=c?null:"".concat(u,"ms")},generateIDs(o){let{triggerClass:c,panelClass:u}=this.options,m=o.querySelector(h(c)),p=o.querySelector(h(u));o.setAttribute("id",o.id||"ac-".concat(e)),m.setAttribute("id",m.id||"ac-trigger-".concat(e)),p.setAttribute("id",p.id||"ac-panel-".concat(e))},removeIDs(o){let{triggerClass:c,panelClass:u}=this.options,m=o.querySelector(h(c)),p=o.querySelector(h(u));o.id.startsWith("ac-")&&o.removeAttribute("id"),m.id.startsWith("ac-")&&m.removeAttribute("id"),p.id.startsWith("ac-")&&p.removeAttribute("id")},setARIA(o){let{ariaEnabled:c,triggerClass:u,panelClass:m}=this.options;if(!c)return;let p=o.querySelector(h(u)),f=o.querySelector(h(m));p.setAttribute("role","button"),p.setAttribute("aria-controls",f.id),p.setAttribute("aria-disabled",!1),p.setAttribute("aria-expanded",!1),f.setAttribute("role","region"),f.setAttribute("aria-labelledby",p.id)},updateARIA(o,c){let{ariaExpanded:u,ariaDisabled:m}=c,{ariaEnabled:p,triggerClass:f}=this.options;if(!p)return;let y=o.querySelector(h(f));y.setAttribute("aria-expanded",u),y.setAttribute("aria-disabled",m)},removeARIA(o){let{ariaEnabled:c,triggerClass:u,panelClass:m}=this.options;if(!c)return;let p=o.querySelector(h(u)),f=o.querySelector(h(m));p.removeAttribute("role"),p.removeAttribute("aria-controls"),p.removeAttribute("aria-disabled"),p.removeAttribute("aria-expanded"),f.removeAttribute("role"),f.removeAttribute("aria-labelledby")},focus(o,c){o.preventDefault();let{triggerClass:u}=this.options;c.querySelector(h(u)).focus()},focusFirstElement(o){this.focus(o,this.firstElement),this.currFocusedIdx=0},focusLastElement(o){this.focus(o,this.lastElement),this.currFocusedIdx=this.elements.length-1},focusNextElement(o){let c=this.currFocusedIdx+1;if(c>this.elements.length-1)return this.focusFirstElement(o);this.focus(o,this.elements[c]),this.currFocusedIdx=c},focusPrevElement(o){let c=this.currFocusedIdx-1;if(c<0)return this.focusLastElement(o);this.focus(o,this.elements[c]),this.currFocusedIdx=c},showElement(o){let c=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],{panelClass:u,activeClass:m,collapse:p,beforeOpen:f}=this.options;c&&f(o);let y=o.querySelector(h(u)),A=y.scrollHeight;o.classList.add(m),requestAnimationFrame(()=>{requestAnimationFrame(()=>{y.style.height=c?"".concat(A,"px"):"auto"})}),this.updateARIA(o,{ariaExpanded:!0,ariaDisabled:!p})},closeElement(o){let c=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],{panelClass:u,activeClass:m,beforeClose:p}=this.options,f=o.querySelector(h(u)),y=f.scrollHeight;o.classList.remove(m),c?(p(o),requestAnimationFrame(()=>{f.style.height="".concat(y,"px"),requestAnimationFrame(()=>{f.style.height=0})})):f.style.height=0,this.updateARIA(o,{ariaExpanded:!1,ariaDisabled:!1})},toggleElement(o){let{activeClass:c,collapse:u}=this.options,m=o.classList.contains(c);if(!m||u)return m?this.closeElement(o):this.showElement(o)},closeElements(){let{activeClass:o,showMultiple:c}=this.options;c||this.elements.forEach((u,m)=>{u.classList.contains(o)&&m!==this.currFocusedIdx&&this.closeElement(u)})},handleClick(o){let c=o.currentTarget;this.elements.forEach((u,m)=>{u.contains(c)&&o.target.nodeName!=="A"&&(this.currFocusedIdx=m,this.closeElements(),this.focus(o,u),this.toggleElement(u))})},handleKeydown(o){switch(o.key){case"ArrowUp":return this.focusPrevElement(o);case"ArrowDown":return this.focusNextElement(o);case"Home":return this.focusFirstElement(o);case"End":return this.focusLastElement(o);default:return null}},handleFocus(o){let c=o.currentTarget,u=this.elements.find(m=>m.contains(c));this.currFocusedIdx=this.elements.indexOf(u)},handleTransitionEnd(o){if(o.stopPropagation(),o.propertyName!=="height")return;let{onOpen:c,onClose:u}=this.options,m=o.currentTarget,p=parseInt(m.style.height),f=this.elements.find(y=>y.contains(m));p>0?(m.style.height="auto",c(f)):u(f)}};this.attachEvents=()=>{if(d)return;let{triggerClass:o,panelClass:c}=a.options;a.handleClick=a.handleClick.bind(a),a.handleKeydown=a.handleKeydown.bind(a),a.handleFocus=a.handleFocus.bind(a),a.handleTransitionEnd=a.handleTransitionEnd.bind(a),a.elements.forEach(u=>{let m=u.querySelector(h(o)),p=u.querySelector(h(c));m.addEventListener("click",a.handleClick),m.addEventListener("keydown",a.handleKeydown),m.addEventListener("focus",a.handleFocus),p.addEventListener("transitionend",a.handleTransitionEnd)}),d=!0},this.detachEvents=()=>{if(!d)return;let{triggerClass:o,panelClass:c}=a.options;a.elements.forEach(u=>{let m=u.querySelector(h(o)),p=u.querySelector(h(c));m.removeEventListener("click",a.handleClick),m.removeEventListener("keydown",a.handleKeydown),m.removeEventListener("focus",a.handleFocus),p.removeEventListener("transitionend",a.handleTransitionEnd)}),d=!1},this.toggle=o=>{let c=a.elements[o];c&&a.toggleElement(c)},this.open=o=>{let c=a.elements[o];c&&a.showElement(c)},this.openAll=()=>{let{activeClass:o,onOpen:c}=a.options;a.elements.forEach(u=>{u.classList.contains(o)||(a.showElement(u,!1),c(u))})},this.close=o=>{let c=a.elements[o];c&&a.closeElement(c)},this.closeAll=()=>{let{activeClass:o,onClose:c}=a.options;a.elements.forEach(u=>{u.classList.contains(o)&&(a.closeElement(u,!1),c(u))})},this.destroy=()=>{this.detachEvents(),this.openAll(),a.elements.forEach(o=>{a.removeIDs(o),a.removeARIA(o),a.setTransition(o,!0),o.classList.remove(i)}),d=!0},this.update=()=>{a.createDefinitions(),this.detachEvents(),this.attachEvents()};let h=o=>".".concat(CSS.escape(o));a.init()};typeof R<"u"&&R.exports!==void 0?R.exports=t:r.Accordion=t})(window)});var b=(r,e=8e3)=>{let t=document.querySelector('[data-role="error"]');t&&(t.textContent=r,t.classList.remove("hide"),setTimeout(()=>{t.classList.add("hide")},e))};var me="America/New_York",Je=new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:me}),ze=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:me}),pe=r=>{let e=new Date(r);return Je.format(e)},he=r=>{let e=new Date(r);return ze.format(e)},w=(r,e="USD")=>r==null?"":new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:2}).format(r);function fe(){let t='[ll-selector="loader"]',n=".no-transition",s=document.querySelector(t);if(!s)return;s.style.opacity="1",s.style.display="flex",s.style.transition="opacity 1300ms ease";let i=()=>{s&&(s.style.opacity="0",setTimeout(()=>{s.style.display="none"},1300))},l=()=>{s&&(s.style.display="flex",s.offsetWidth,s.style.opacity="1")};window.addEventListener("load",()=>{document.body.classList.add("no-scroll-transition"),setTimeout(()=>{i(),document.body.classList.remove("no-scroll-transition")},500)}),document.addEventListener("click",a=>{let o=a.target.closest("a");if(!o||o.hostname!==window.location.hostname||o.getAttribute("href")?.includes("#")||o.matches(n)||o.getAttribute("target")==="_blank"||o.getAttribute("download")!==null)return;a.preventDefault();let c=o.getAttribute("href");c&&(document.body.classList.add("no-scroll-transition"),l(),setTimeout(()=>{window.location.href=c},800))}),window.addEventListener("pageshow",a=>{a.persisted&&(i(),document.body.classList.remove("no-scroll-transition"))});let d;window.addEventListener("resize",()=>{clearTimeout(d),d=window.setTimeout(()=>{s&&(s.style.display="none")},50)})}var ge=Xe(ye(),1),Ee=function(r){new ge.default(r,{showMultiple:!0})};var E=(r,e,t)=>{let n=r.querySelector(`[data-field="${e}"]`);if(!n){console.warn(`Element with data-field="${e}" not found`);return}n.textContent=t};var I="GraphQL Client";var B="An error occurred while fetching from the API. Review 'graphQLErrors' for details.",G="Response returned unexpected Content-Type:",Q="An unknown error has occurred. The API did not return a data object or any errors in its response.",M={json:"application/json",multipart:"multipart/mixed"},K="X-SDK-Variant",j="X-SDK-Version",Te="shopify-graphql-client",Ae="1.4.1",k=1e3,be=[429,503],Y=/@(defer)\b/i,ve=`\r
`,Se=/boundary="?([^=";]+)"?/i,W=ve+ve;function S(r,e=I){return r.startsWith(`${e}`)?r:`${e}: ${r}`}function C(r){return r instanceof Error?r.message:JSON.stringify(r)}function X(r){return r instanceof Error&&r.cause?r.cause:void 0}function J(r){return r.flatMap(({errors:e})=>e??[])}function x({client:r,retries:e}){if(e!==void 0&&(typeof e!="number"||e<0||e>3))throw new Error(`${r}: The provided "retries" value (${e}) is invalid - it cannot be less than ${0} or greater than ${3}`)}function v(r,e){return e&&(typeof e!="object"||Array.isArray(e)||typeof e=="object"&&Object.keys(e).length>0)?{[r]:e}:{}}function z(r,e){if(r.length===0)return e;let n={[r.pop()]:e};return r.length===0?n:z(r,n)}function we(r,e){return Object.keys(e||{}).reduce((t,n)=>(typeof e[n]=="object"||Array.isArray(e[n]))&&r[n]?(t[n]=we(r[n],e[n]),t):(t[n]=e[n],t),Array.isArray(r)?[...r]:{...r})}function Z([r,...e]){return e.reduce(we,{...r})}function ee({clientLogger:r,customFetchApi:e=fetch,client:t=I,defaultRetryWaitTime:n=k,retriableCodes:s=be}){let i=async(l,d,a)=>{let h=d+1,o=a+1,c;try{if(c=await e(...l),r({type:"HTTP-Response",content:{requestParams:l,response:c}}),!c.ok&&s.includes(c.status)&&h<=o)throw new Error;let u=c?.headers.get("X-Shopify-API-Deprecated-Reason")||"";return u&&r({type:"HTTP-Response-GraphQL-Deprecation-Notice",content:{requestParams:l,deprecationNotice:u}}),c}catch(u){if(h<=o){let m=c?.headers.get("Retry-After");return await Ze(m?parseInt(m,10):n),r({type:"HTTP-Retry",content:{requestParams:l,lastResponse:c,retryAttempt:d,maxRetries:a}}),i(l,h,a)}throw new Error(S(`${a>0?`Attempted maximum number of ${a} network retries. Last message - `:""}${C(u)}`,t))}};return i}async function Ze(r){return new Promise(e=>setTimeout(e,r))}function te({headers:r,url:e,customFetchApi:t=fetch,retries:n=0,logger:s}){x({client:I,retries:n});let i={headers:r,url:e,retries:n},l=et(s),d=ee({customFetchApi:t,clientLogger:l,defaultRetryWaitTime:k}),a=tt(d,i),h=rt(a),o=lt(a);return{config:i,fetch:a,request:h,requestStream:o}}function et(r){return e=>{r&&r(e)}}async function Ie(r){let{errors:e,data:t,extensions:n}=await r.json();return{...v("data",t),...v("extensions",n),headers:r.headers,...e||!t?{errors:{networkStatusCode:r.status,message:S(e?B:Q),...v("graphQLErrors",e),response:r}}:{}}}function tt(r,{url:e,headers:t,retries:n}){return async(s,i={})=>{let{variables:l,headers:d,url:a,retries:h,keepalive:o,signal:c}=i,u=JSON.stringify({query:s,variables:l});x({client:I,retries:h});let m=Object.entries({...t,...d}).reduce((f,[y,A])=>(f[y]=Array.isArray(A)?A.join(", "):A.toString(),f),{});return!m[K]&&!m[j]&&(m[K]=Te,m[j]=Ae),r([a??e,{method:"POST",headers:m,body:u,signal:c,keepalive:o}],1,h??n)}}function rt(r){return async(...e)=>{if(Y.test(e[0]))throw new Error(S("This operation will result in a streamable response - use requestStream() instead."));let t=null;try{t=await r(...e);let{status:n,statusText:s}=t,i=t.headers.get("content-type")||"";return t.ok?i.includes(M.json)?await Ie(t):{errors:{networkStatusCode:n,message:S(`${G} ${i}`),response:t}}:{errors:{networkStatusCode:n,message:S(s),response:t}}}catch(n){return{errors:{message:C(n),...t==null?{}:{networkStatusCode:t.status,response:t}}}}}}async function*nt(r){let e=new TextDecoder;if(r.body[Symbol.asyncIterator])for await(let t of r.body)yield e.decode(t);else{let t=r.body.getReader(),n;try{for(;!(n=await t.read()).done;)yield e.decode(n.value)}finally{t.cancel()}}}function st(r,e){return{async*[Symbol.asyncIterator](){try{let t="";for await(let n of r)if(t+=n,t.indexOf(e)>-1){let s=t.lastIndexOf(e),l=t.slice(0,s).split(e).filter(d=>d.trim().length>0).map(d=>d.slice(d.indexOf(W)+W.length).trim());l.length>0&&(yield l),t=t.slice(s+e.length),t.trim()==="--"&&(t="")}}catch(t){throw new Error(`Error occured while processing stream payload - ${C(t)}`)}}}}function ot(r){return{async*[Symbol.asyncIterator](){yield{...await Ie(r),hasNext:!1}}}}function at(r){return r.map(e=>{try{return JSON.parse(e)}catch(t){throw new Error(`Error in parsing multipart response - ${C(t)}`)}}).map(e=>{let{data:t,incremental:n,hasNext:s,extensions:i,errors:l}=e;if(!n)return{data:t||{},...v("errors",l),...v("extensions",i),hasNext:s};let d=n.map(({data:a,path:h,errors:o})=>({data:a&&h?z(h,a):{},...v("errors",o)}));return{data:d.length===1?d[0].data:Z([...d.map(({data:a})=>a)]),...v("errors",J(d)),hasNext:s}})}function it(r,e){if(r.length>0)throw new Error(B,{cause:{graphQLErrors:r}});if(Object.keys(e).length===0)throw new Error(Q)}function ct(r,e){let t=(e??"").match(Se),n=`--${t?t[1]:"-"}`;if(!r.body?.getReader&&!r.body?.[Symbol.asyncIterator])throw new Error("API multipart response did not return an iterable body",{cause:r});let s=nt(r),i={},l;return{async*[Symbol.asyncIterator](){try{let d=!0;for await(let a of st(s,n)){let h=at(a);l=h.find(c=>c.extensions)?.extensions??l;let o=J(h);i=Z([i,...h.map(({data:c})=>c)]),d=h.slice(-1)[0].hasNext,it(o,i),yield{...v("data",i),...v("extensions",l),hasNext:d}}if(d)throw new Error("Response stream terminated unexpectedly")}catch(d){let a=X(d);yield{...v("data",i),...v("extensions",l),errors:{message:S(C(d)),networkStatusCode:r.status,...v("graphQLErrors",a?.graphQLErrors),response:r},hasNext:!1}}}}}function lt(r){return async(...e)=>{if(!Y.test(e[0]))throw new Error(S("This operation does not result in a streamable response - use request() instead."));try{let t=await r(...e),{statusText:n}=t;if(!t.ok)throw new Error(n,{cause:t});let s=t.headers.get("content-type")||"";switch(!0){case s.includes(M.json):return ot(t);case s.includes(M.multipart):return ct(t,s);default:throw new Error(`${G} ${s}`,{cause:t})}}catch(t){return{async*[Symbol.asyncIterator](){let n=X(t);yield{errors:{message:S(C(t)),...v("networkStatusCode",n?.status),...v("response",n)},hasNext:!1}}}}}}function re({client:r,storeDomain:e}){try{if(!e||typeof e!="string")throw new Error;let t=e.trim(),n=t.match(/^https?:/)?t:`https://${t}`,s=new URL(n);return s.protocol="https",s.origin}catch(t){throw new Error(`${r}: a valid store domain ("${e}") must be provided`,{cause:t})}}function D({client:r,currentSupportedApiVersions:e,apiVersion:t,logger:n}){let s=`${r}: the provided apiVersion ("${t}")`,i=`Currently supported API versions: ${e.join(", ")}`;if(!t||typeof t!="string")throw new Error(`${s} is invalid. ${i}`);let l=t.trim();e.includes(l)||(n?n({type:"Unsupported_Api_Version",content:{apiVersion:t,supportedApiVersions:e}}):console.warn(`${s} is likely deprecated or not supported. ${i}`))}function H(r){let e=r*3-2;return e===10?e:`0${e}`}function ne(r,e,t){let n=e-t;return n<=0?`${r-1}-${H(n+4)}`:`${r}-${H(n)}`}function qe(){let r=new Date,e=r.getUTCMonth(),t=r.getUTCFullYear(),n=Math.floor(e/3+1);return{year:t,quarter:n,version:`${t}-${H(n)}`}}function se(){let{year:r,quarter:e,version:t}=qe(),n=e===4?`${r+1}-01`:`${r}-${H(e+1)}`;return[ne(r,e,3),ne(r,e,2),ne(r,e,1),t,n,"unstable"]}function oe(r){return e=>({...e??{},...r.headers})}function ae({getHeaders:r,getApiUrl:e}){return(t,n)=>{let s=[t];if(n&&Object.keys(n).length>0){let{variables:i,apiVersion:l,headers:d,retries:a,signal:h}=n;s.push({...i?{variables:i}:{},...d?{headers:r(d)}:{},...l?{url:e(l)}:{},...a?{retries:a}:{},...h?{signal:h}:{}})}return s}}var ie="application/json",Re="storefront-api-client",Me="1.0.9",ke="X-Shopify-Storefront-Access-Token",xe="Shopify-Storefront-Private-Token",De="X-SDK-Variant",He="X-SDK-Version",Ne="X-SDK-Variant-Source",q="Storefront API Client";function _e(r){if(r&&typeof window<"u")throw new Error(`${q}: private access tokens and headers should only be used in a server-to-server implementation. Use the public API access token in nonserver environments.`)}function Ve(r,e){if(!r&&!e)throw new Error(`${q}: a public or private access token must be provided`);if(r&&e)throw new Error(`${q}: only provide either a public or private access token`)}function ce({storeDomain:r,apiVersion:e,publicAccessToken:t,privateAccessToken:n,clientName:s,retries:i=0,customFetchApi:l,logger:d}){let a=se(),h=re({client:q,storeDomain:r}),o={client:q,currentSupportedApiVersions:a,logger:d};D({...o,apiVersion:e}),Ve(t,n),_e(n);let c=ut(h,e,o),u={storeDomain:h,apiVersion:e,...t?{publicAccessToken:t}:{privateAccessToken:n},headers:{"Content-Type":ie,Accept:ie,[De]:Re,[He]:Me,...s?{[Ne]:s}:{},...t?{[ke]:t}:{[xe]:n}},apiUrl:c(),clientName:s},m=te({headers:u.headers,url:u.apiUrl,retries:i,customFetchApi:l,logger:d}),p=oe(u),f=dt(u,c),y=ae({getHeaders:p,getApiUrl:f});return Object.freeze({config:u,getHeaders:p,getApiUrl:f,fetch:(...L)=>m.fetch(...y(...L)),request:(...L)=>m.request(...y(...L)),requestStream:(...L)=>m.requestStream(...y(...L))})}function ut(r,e,t){return n=>{n&&D({...t,apiVersion:n});let s=(n??e).trim();return`${r}/api/${s}/graphql.json`}}function dt(r,e){return t=>t?e(t):r.apiUrl}function mt(r){if(!r)throw new Error("Invalid product ID");return r.startsWith("gid://")?r:`gid://shopify/Product/${r}`}function pt(r){if(!r)throw new Error("Invalid variant ID");return r.startsWith("gid://")?r:`gid://shopify/ProductVariant/${r}`}var ht="shop.lostlevelsarcade.com",ft="51611eac4adbd8d8496b9a639e0c3ef2",yt="2025-07",le=ce({storeDomain:ht,apiVersion:yt,publicAccessToken:ft});async function Pe(r){try{let e=mt(r),{data:t,errors:n}=await le.request(`
      query EventByID($id: ID!) {
        product(id: $id) {
          id
          title
          handle
          description
          gameType:  metafield(namespace:"custom", key:"game_type") { value }
          startTime: metafield(namespace:"custom", key:"start_time") { value }
          duration:  metafield(namespace:"custom", key:"duration") { value }
          format:    metafield(namespace:"custom", key:"format") { value }
          complementaryProducts: metafield(namespace:"shopify--discovery--product_recommendation", key:"complementary_products") {
            references(first: 20) {
              edges { node { ... on Product { 
                id 
                title
                variants(first: 4) {
                  edges { node {
                    id 
                    title 
                    quantityAvailable
                    price { amount currencyCode }
                  }}
                }
              }}}
            }
          }
          variants(first: 50) {
            edges { node {
              id
              title
              quantityAvailable
              price { amount currencyCode }
              selectedOptions { name value }
            } }
          }
        }
      }
      `,{variables:{id:e}});if(n)throw new Error(n.graphQLErrors?.[0]?.message||n.message);return t.product}catch(e){return console.error(`Error fetching event product with ID ${r}:`,e),null}}async function ue(r){try{let{data:e,errors:t}=await le.request(`
      query EventByHandle($handle: String!) {
        productByHandle(handle: $handle) {
          id
          title
          handle
          description
          gameType:  metafield(namespace:"custom", key:"game_type") { value }
          startTime: metafield(namespace:"custom", key:"start_time") { value }
          duration:  metafield(namespace:"custom", key:"duration") { value }
          format:    metafield(namespace:"custom", key:"format") { value }
          complementaryProducts: metafield(namespace:"shopify--discovery--product_recommendation", key:"complementary_products") {
            references(first: 20) {
              edges { node { ... on Product { 
                id 
                title
                variants(first: 4) {
                  edges { node {
                    id 
                    title 
                    quantityAvailable
                    price { amount currencyCode }
                  }}
                }
              }}}
            }
          }
          variants(first: 50) {
            edges { node {
              id
              title
              quantityAvailable
              price { amount currencyCode }
              selectedOptions { name value }
            } }
          }
        }
      }
      `,{variables:{handle:r}});if(t)throw new Error(t.graphQLErrors?.[0]?.message||t.message);return e.productByHandle}catch(e){return console.error(`Error fetching event product with handle ${r}:`,e),null}}async function Ue(r){try{let e=r.map(i=>({merchandiseId:pt(i.merchandiseId),quantity:i.quantity,attributes:i.attributes||[]})),{data:t,errors:n}=await le.request(`
      mutation cartCreate($input: CartInput) {
        cartCreate(input: $input) {
          cart { id checkoutUrl }
          userErrors { field message }
        }
      }
      `,{variables:{input:{lines:e}}});if(n)throw new Error(n.graphQLErrors?.[0]?.message||n.message);let s=t?.cartCreate?.userErrors;if(s?.length)throw new Error(s[0]?.message||"Cart create failed");return t?.cartCreate?.cart}catch(e){throw console.error("Error creating cart with lines:",e),e}}var N=class{constructor(e,t){g(this,"cartEl");g(this,"cartManager");this.cartManager=e,this.cartEl=t,this.hideCartItemTemplate()}update(e="USD"){if(!this.cartEl){console.error("Cart element not found");return}let t=this.cartEl.querySelector('[data-field="cart-items"]'),n=this.cartEl.querySelector('[data-field="cart-subtotal"]'),s=document.querySelector('[data-field="cart-line-item"]');if(!t||!n||!s){console.error("Required cart elements not found");return}console.info("Updating cart display"),this.hideTemplate(s),t.innerHTML="";let i=this.cartManager.getItems(),l=this.cartManager.getSubtotal();i.forEach(d=>{let a=this.createCartItemElement(s,d,e);t.appendChild(a)}),n.textContent=w(l,e)}hideTemplate(e){e.classList.add("hide")}hideCartItemTemplate(){let e=document.querySelector('[data-field="cart-line-item"]');e&&e.classList.add("hide")}createCartItemElement(e,t,n){let s=e.cloneNode(!0);s.classList.remove("hide");let i=s.querySelector('[data-field="cart-line-title"]');if(i){let h=t.quantity&&t.quantity>1?`${t.title} (${t.quantity}x)`:t.title;i.textContent=h}let l=s.querySelector('[data-field="cart-line-variant"]');l&&(l.textContent=t.variant);let d=s.querySelector('[data-field="cart-line-price"]');d&&(d.textContent=w(t.price,n));let a=s.querySelector('[data-role="cart-line-clear"]');return t.id!=="event"&&a?(a.classList.remove("hide"),a.addEventListener("click",()=>this.cartManager.removeItem(t.id))):a&&a.classList.add("hide"),s}};var _=class{constructor(e){g(this,"items",[]);g(this,"onUpdateCallback");this.onUpdateCallback=e}getItems(){return[...this.items]}getSubtotal(){return this.items.reduce((e,t)=>e+t.price,0)}updateEventItem(e,t,n,s){this.items=this.items.filter(i=>i.id!=="event"),this.items.push({id:"event",title:t,variant:n,price:s}),this.triggerUpdate()}addUpsellItem(e){let t=this.items.findIndex(n=>n.id===e.id);if(t>=0){let n=this.items[t];this.items[t]={...n,quantity:(n.quantity||1)+(e.quantity||1),price:e.price*((n.quantity||1)+(e.quantity||1))}}else this.items.push(e);return this.triggerUpdate(),!0}removeItem(e){this.items=this.items.filter(t=>t.id!==e),this.triggerUpdate()}triggerUpdate(){this.onUpdateCallback?.()}};var V=class{constructor(e){this.product=e;g(this,"state",{participant:"self",requirePlayerName:!1,requireMtgAccount:!1,requireTcgAccount:!1,requireTcgUsername:!1,requireRphAccount:!1,requireRphUsername:!1,requirePokemonAccount:!1,requirePokemonId:!1});this.setupListeners(),this.updateFieldVisibility()}getState(){return{...this.state}}setupListeners(){let e=document.getElementById("self"),t=document.getElementById("other");e&&t&&(e.addEventListener("change",()=>{e.checked&&(this.state.participant="self",this.updateFieldVisibility())}),t.addEventListener("change",()=>{t.checked&&(this.state.participant="other",this.updateFieldVisibility())}),!e.checked&&!t.checked&&(e.checked=!0,this.state.participant="self")),this.setupAccountRadioListeners("mtg-account","mtg-username"),this.setupAccountRadioListeners("tcg-account","tcg-username"),this.setupAccountRadioListeners("rph-account","rph-username"),this.setupAccountRadioListeners("pokemon-account","pokemon-id")}setupAccountRadioListeners(e,t){let n=document.querySelector(`input[name="${e}"][id="${e}-true"]`),s=document.querySelector(`input[name="${e}"][id="${e}-false"]`),i=document.querySelector(`[data-role="${t}"]`);if(n&&s&&i){let l=()=>{let d=n.checked;i.classList.toggle("hide",!d),i.querySelectorAll("input").forEach(h=>{h.required=d})};n.addEventListener("change",l),s.addEventListener("change",l),l()}}updateFieldVisibility(){this.updatePlayerNameFields(),this.updateGameSpecificFields()}updatePlayerNameFields(){let e=document.querySelector('[data-role="player-name"]');if(!e)return;let t=this.state.participant==="other";e.classList.toggle("hide",!t),this.state.requirePlayerName=t,e.querySelectorAll("input").forEach(s=>{s.required=t})}updateGameSpecificFields(){let e=(this.product.gameType?.value||"").toLowerCase();this.hideAllGameFields(),this.state.requireMtgAccount=!1,this.state.requireTcgAccount=!1,this.state.requireTcgUsername=!1,this.state.requireRphAccount=!1,this.state.requireRphUsername=!1,this.state.requirePokemonAccount=!1,this.state.requirePokemonId=!1,e==="magic"?this.showMtgFields():e==="gundam"||e==="one piece"?this.showTcgFields():e==="lorcana"?this.showRphFields():e==="pokemon"&&this.showPokemonFields()}hideAllGameFields(){["mtg-account","tcg-account","tcg-username","rph-account","rph-username","pokemon-account","pokemon-id"].forEach(t=>{let n=document.querySelector(`[data-role="${t}"]`);n&&(n.classList.add("hide"),n.querySelectorAll("input, select").forEach(i=>{i.required=!1}))})}showMtgFields(){let e=document.querySelector('[data-role="mtg-account"]');e&&(e.classList.remove("hide"),this.state.requireMtgAccount=!0)}showTcgFields(){let e=document.querySelector('[data-role="tcg-account"]');e&&(e.classList.remove("hide"),this.state.requireTcgAccount=!0,this.state.requireTcgUsername=!0)}showRphFields(){let e=document.querySelector('[data-role="rph-account"]');e&&(e.classList.remove("hide"),this.state.requireRphAccount=!0,this.state.requireRphUsername=!0)}showPokemonFields(){let e=document.querySelector('[data-role="pokemon-account"]');e&&(e.classList.remove("hide"),this.state.requirePokemonAccount=!0,this.state.requirePokemonId=!0)}validate(){if(this.state.requirePlayerName){let e=this.getFormValue("field-first-name"),t=this.getFormValue("field-last-name");if(!e){let n="Please enter the player's first name.";return this.showError(n),{valid:!1,error:n}}if(!t){let n="Please enter the player's last name.";return this.showError(n),{valid:!1,error:n}}}if(this.state.requireMtgAccount){let e=document.querySelector('input[name="mtg-account"]:checked');if(!e){let t="Please indicate if you have the MTG Companion App.";return this.showError(t),{valid:!1,error:t}}if(e.id==="mtg-account-false"){let t="You need the MTG Companion App to participate in this event.";return this.showError(t),{valid:!1,error:t}}}if(this.state.requireTcgAccount){let e=document.querySelector('input[name="tcg-account"]:checked');if(!e){let t="Please indicate if you have a TCG Plus account.";return this.showError(t),{valid:!1,error:t}}if(e.id==="tcg-account-false"){let t="You need a TCG Plus account to participate in this event.";return this.showError(t),{valid:!1,error:t}}}if(this.state.requireRphAccount){let e=document.querySelector('input[name="rph-account"]:checked');if(!e){let t="Please indicate if you have a Ravensburger Play Hub account.";return this.showError(t),{valid:!1,error:t}}if(e.id==="rph-account-false"){let t="You need a Ravensburger Play Hub account to participate in this event.";return this.showError(t),{valid:!1,error:t}}}if(this.state.requirePokemonAccount){let e=document.querySelector('input[name="pokemon-account"]:checked');if(!e){let t="Please indicate if you have a Pok\xE9mon ID.";return this.showError(t),{valid:!1,error:t}}if(e.id==="pokemon-account-false"){let t="You need a Pok\xE9mon ID to participate in this event.";return this.showError(t),{valid:!1,error:t}}}return{valid:!0}}showError(e){b(e)}getFormValue(e){return(document.querySelector(`[data-role="${e}"]`)?.value||"").trim()}};var P=class{constructor(e,t,n,s){this.product=e;this.cartManager=t;this.formManager=n;this.getChosenVariantId=s;g(this,"form");g(this,"submitBtn");g(this,"errBox");this.form=document.querySelector('[data-role="event-form"]'),this.submitBtn=document.querySelector('[data-role="submit"]'),this.errBox=document.querySelector('[data-role="error"]'),this.setupButtonStateManagement()}setupFormHandler(){if(!this.form){console.error("Form not found");return}this.form.addEventListener("submit",async e=>{e.preventDefault(),await this.handleFormSubmission()})}async handleFormSubmission(){this.clearErrors();let e=this.validateForm();if(!e.valid){b(e.error||"Validation error");return}this.disableSubmitButton();try{let n=(await this.createEventCart())?.checkoutUrl;if(!n)throw new Error("Could not create checkout.");window.location.href=n}catch(t){console.error("[events] checkout error",t),b("Something went wrong. Please try again."),this.enableSubmitButton()}}validateForm(){if(!this.getChosenVariantId()){let t="This event is sold out.";return b(t),{valid:!1,error:t}}return this.formManager.validate()}async createEventCart(){let e=this.formManager.getState(),t=this.getFormValue("field-first-name"),n=this.getFormValue("field-last-name"),s=`${t} ${n}`.trim(),i=e.requireMtgAccount?this.getRadioValue("mtg-account"):"",l=e.requireTcgAccount?this.getRadioValue("tcg-account"):"",d=e.requireTcgUsername?this.getFormValue("field-tcg-username"):"",a=e.requireRphAccount?this.getRadioValue("rph-account"):"",h=e.requireRphUsername?this.getFormValue("field-rph-username"):"",o=e.requirePokemonAccount?this.getRadioValue("pokemon-id"):"",c=e.requirePokemonId?this.getFormValue("field-pokemon-id"):"",u=[{merchandiseId:this.getChosenVariantId(),quantity:1,attributes:[{key:"Game",value:this.product.gameType?.value||""},{key:"Format",value:this.product.format?.value||""},{key:"Participant",value:e.participant.charAt(0).toUpperCase()+e.participant.slice(1)}]}];return e.participant==="other"&&t&&n&&u[0].attributes.push({key:"Player Name",value:s}),i&&u[0].attributes.push({key:"MTG Companion App",value:i}),l&&u[0].attributes.push({key:"TCG Plus Account",value:l}),d&&u[0].attributes.push({key:"TCG Plus Username",value:d}),a&&u[0].attributes.push({key:"Ravensburger Play Hub Account",value:a}),h&&u[0].attributes.push({key:"Ravensburger Play Hub Username",value:h}),o&&u[0].attributes.push({key:"Pok\xE9mon ID Account",value:o}),c&&u[0].attributes.push({key:"Pok\xE9mon ID",value:c}),this.cartManager.getItems().forEach(p=>{p.id!=="event"&&p.variantId&&u.push({merchandiseId:p.variantId,quantity:p.quantity||1,attributes:[]})}),Ue(u)}setupButtonStateManagement(){this.enableSubmitButton(),this.form&&(this.form.addEventListener("input",()=>this.enableSubmitButton()),this.form.addEventListener("change",()=>this.enableSubmitButton())),document.addEventListener("visibilitychange",()=>{document.hidden||this.enableSubmitButton()}),window.addEventListener("focus",()=>this.enableSubmitButton())}enableSubmitButton(){this.submitBtn&&this.submitBtn.disabled&&(this.submitBtn.disabled=!1)}disableSubmitButton(){this.submitBtn&&(this.submitBtn.disabled=!0)}clearErrors(){this.errBox&&(this.errBox.textContent="",this.errBox.classList.add("hide"))}getFormValue(e){return(document.querySelector(`[data-role="${e}"]`)?.value||"").trim()}getRadioValue(e){let t=document.querySelector(`input[name="${e}"][id="${e}-true"]`),n=document.querySelector(`input[name="${e}"][id="${e}-false"]`);return t?.checked?"Yes":n?.checked?"No":""}};var U=(r,e)=>{let t;return(...n)=>{clearTimeout(t),t=setTimeout(()=>r(...n),e)}};var F=class{constructor(e,t){this.product=e;this.cartManager=t;g(this,"variants",[]);g(this,"chosenVariantId",null);g(this,"hasSelectedVariant",!1);g(this,"currency");this.variants=(e.variants?.edges||[]).map(n=>n.node),this.currency=this.variants[0]?.price?.currencyCode||"USD"}async render(){let e=document.querySelector('[data-role="ticket"]'),t=e?.parentElement||null;if(!t||!e){console.error("Ticket template or container not found"),this.chosenVariantId=this.variants[0]?.id||null;return}e.classList.add("hide"),t.innerHTML="",[...this.variants].sort((s,i)=>{let l=Number(s.price?.amount||"0"),d=Number(i.price?.amount||"0");return l-d}).forEach(s=>{console.info("Creating ticket for variant",s),this.createTicketElement(s,e,t)})}getChosenVariantId(){return this.chosenVariantId}createTicketElement(e,t,n){let s=this.getVariantTitle(e);if(s==="Default Title"&&this.variants.length>1)return;let i=s==="Default Title"?"Single Entry":s,l=e.quantityAvailable||0,d=Number(e.price?.amount||"0"),a=t.cloneNode(!0);a.classList.remove("hide"),this.setTicketData(a,i,l,d),l<=0?(console.info("Setting up sold out ticket for variant",e),this.setupSoldOutTicket(a)):this.setupAvailableTicket(a,e,i),n.appendChild(a)}getVariantTitle(e){let t=e.title;if(e.selectedOptions&&e.selectedOptions.length>0){let n=e.selectedOptions.find(s=>s.name.toLowerCase()!=="title"&&s.value!=="Default Title");if(n)t=n.value;else{let s=e.selectedOptions.find(i=>i.name.toLowerCase()==="title"&&i.value!=="Default Title");s&&(t=s.value)}}return t}setTicketData(e,t,n,s){let i=e.querySelector('[data-field="variant-title"]'),l=e.querySelector('[data-field="seats"]'),d=e.querySelector('[data-field="price"]');i&&(i.textContent=t),l&&(l.textContent=n>0?`${n} seat${n===1?"":"s"} left`:"Sold out"),d&&(d.textContent=s===0?"Free":w(s,this.currency))}setupSoldOutTicket(e){e.classList.add("sold-out"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-disabled","true")}setupAvailableTicket(e,t,n){e.dataset.variantId=t.id,e.setAttribute("aria-pressed","false");let s=U(()=>{this.updateEventInCart(t,n)},150);this.addTicketEventListeners(e,t,n,s),this.hasSelectedVariant||(this.chosenVariantId=t.id,this.setActiveTicket(e),this.updateEventInCart(t,n),this.hasSelectedVariant=!0)}addTicketEventListeners(e,t,n,s){let i=t.quantityAvailable||0;e.addEventListener("click",()=>{i<=0||(this.chosenVariantId=t.id,this.setActiveTicket(e),s())}),e.addEventListener("keydown",l=>{i<=0||(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),this.chosenVariantId=t.id,this.setActiveTicket(e),s())})}setActiveTicket(e){document.querySelectorAll('[data-role="ticket"]').forEach(t=>{t.querySelector('[data-field="checkbox"]')?.classList.remove("is-active"),t.setAttribute("aria-pressed","false")}),e.querySelector('[data-field="checkbox"]')?.classList.add("is-active"),e.setAttribute("aria-pressed","true")}updateEventInCart(e,t){let n=Number(e.price?.amount||"0");this.cartManager.updateEventItem("event",this.product.title,t,n)}};var O=class{constructor(e,t){this.product=e;this.cartManager=t;g(this,"upsellProducts",[]);this.extractUpsells()}async render(){let e=document.querySelector('[data-role="upsell"]'),t=e?.parentElement;if(!this.upsellProducts.length||!t||!e){t?.parentElement&&t.parentElement.classList.add("hide");return}e.classList.add("hide"),t.innerHTML="",this.upsellProducts.forEach(n=>{this.createUpsellElement(n,e,t)})}extractUpsells(){this.upsellProducts=(this.product.complementaryProducts?.references?.edges||[]).map(e=>e.node).filter(e=>!!e?.id).map(e=>({id:e?.id,title:e?.title||"Add-on",variants:(e?.variants?.edges||[]).map(t=>t.node).filter(t=>!!t?.id).map(t=>({id:t?.id,title:t?.title??"Untitled Variant",price:t?.price,quantityAvailable:t?.quantityAvailable||0,selectedOptions:t?.selectedOptions||[]}))})).filter(e=>e.variants.length>0)}createUpsellElement(e,t,n){let s=t.cloneNode(!0);s.classList.remove("hide"),this.setProductTitle(s,e.title);let l=this.findDefaultVariant(e.variants);e.variants.length>1?this.createVariantSelector(s,e.variants,d=>{l=d,this.updateUpsellDisplay(s,d),this.setupUpsellControls(s,e.title,d)}):this.hideVariantSelector(s),l&&(this.updateUpsellDisplay(s,l),this.setupUpsellControls(s,e.title,l)),n.appendChild(s)}setProductTitle(e,t){E(e,"upsell-title",t)}findDefaultVariant(e){let t=e.filter(s=>s.quantityAvailable>0);return(t.length>0?t:e).sort((s,i)=>{let l=Number(s.price?.amount||"0"),d=Number(i.price?.amount||"0");return l-d})[0]||null}createVariantSelector(e,t,n){let s=e.querySelector('[data-field="upsell-variants"]'),i=e.querySelector('[data-field="upsell-variant-item"]');!s||!i||(i.classList.add("hide"),s.innerHTML="",t.forEach((l,d)=>{let a=i.cloneNode(!0);a.classList.remove("hide");let h=this.getVariantOptionText(l),o=a.querySelector("div");o&&(o.textContent=h),a.classList.add("variant-option"),a.setAttribute("role","button"),a.setAttribute("tabindex","0"),d===0?(a.classList.add("selected"),a.setAttribute("aria-pressed","true")):a.setAttribute("aria-pressed","false");let c=()=>{s.querySelectorAll(".variant-option").forEach(u=>{u.classList.remove("selected"),u.setAttribute("aria-pressed","false")}),a.classList.add("selected"),a.setAttribute("aria-pressed","true"),n(l)};a.addEventListener("click",c),a.addEventListener("keydown",u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),c())}),s.appendChild(a)}))}getVariantOptionText(e){let t=e.selectedOptions?.filter(n=>n.value!=="Default Title"&&n.name.toLowerCase()!=="title")||[];return t.length>0?t.map(n=>n.value).join(" / "):e.title==="Default Title"?"Standard":e.title}hideVariantSelector(e){let t=e.querySelector('[data-field="upsell-variants"]');t&&t.classList.add("hide")}updateUpsellDisplay(e,t){let n=Number(t.price?.amount||"0"),s=t.price?.currencyCode||"USD",i=t.quantityAvailable;E(e,"upsell-price",w(n,s)),E(e,"upsell-stock-count",i.toString());let l=e.querySelector('[data-field="upsell-stock"]');l&&(i>0&&i<=5?l.classList.remove("hide"):l.classList.add("hide")),i<=0?e.classList.add("sold-out"):e.classList.remove("sold-out")}setupUpsellControls(e,t,n){let s=Number(n.price?.amount||"0"),i=n.quantityAvailable,l=Math.min(10,i),d=`upsell_${n.id.split("/").pop()}`,a=this.getVariantOptionText(n),h=`${t} - ${a}`,o=e.querySelector('[data-field="upsell-add"]'),c=e.querySelector('[data-field="upsell-qty-up"]'),u=e.querySelector('[data-field="upsell-qty-down"]'),m=1;if(E(e,"upsell-qty-count",m.toString()),o){let T=o.cloneNode(!0);o.parentNode?.replaceChild(T,o)}if(c){let T=c.cloneNode(!0);c.parentNode?.replaceChild(T,c)}if(u){let T=u.cloneNode(!0);u.parentNode?.replaceChild(T,u)}let p=e.querySelector('[data-field="upsell-add"]'),f=e.querySelector('[data-field="upsell-qty-up"]'),y=e.querySelector('[data-field="upsell-qty-down"]');if(i<=0){this.disableUpsellControls(e);return}p?.classList.remove("disabled");let A=p?.querySelector(".button-text");A&&(A.textContent="Add to Cart"),f?.addEventListener("click",()=>{m<l&&(m++,E(e,"upsell-qty-count",m.toString()))}),y?.addEventListener("click",()=>{m>1&&(m--,E(e,"upsell-qty-count",m.toString()))});let L=U(()=>{this.addUpsellToCart(d,h,s,m,n)},300);p?.addEventListener("click",()=>{p.classList.contains("disabled")||(p.classList.add("processing"),L(),setTimeout(()=>{p.classList.remove("processing")},350))})}disableUpsellControls(e){let t=e.querySelector('[data-field="upsell-add"]'),n=e.querySelector('[data-field="upsell-qty-wrap"]');if(t){let s=t.querySelector(".button-text");s&&(s.textContent="Out of Stock"),t.classList.add("disabled")}n&&(n.style.opacity="0.5")}addUpsellToCart(e,t,n,s,i){let a=this.cartManager.getItems().find(c=>c.id===e)?.quantity||0;if(a+s>i.quantityAvailable){let c=i.quantityAvailable-a;if(c<=0){b(`${t}: This item is already at maximum quantity in your cart.`);return}b(`${t}: Only ${c} more available. ${i.quantityAvailable} total in stock.`);return}this.cartManager.addUpsellItem({id:e,title:t,variant:"",price:n*s,quantity:s,variantId:i.id})&&console.log(`Added ${s}x ${t} to cart`)}};window.Webflow||(window.Webflow=[]);window.Webflow.push(async()=>{fe();let r=Array.from(document.querySelectorAll('[ll-selector="accordion"]'));r.length>0?Ee(r):console.log("No accordion elements found.");let e=document.querySelector("#event-meta"),t=e?.getAttribute("data-handle")||void 0,n=e?.getAttribute("data-id")||void 0,s=location.pathname.split("/").filter(Boolean).pop(),i=t||s||"",l=await ue(i);if(i&&(console.log("[events] Fetching by handle:",i),l=await ue(i)),!l&&n){console.log("[events] Handle failed, trying CMS ID:",n);try{l=await Pe(n),l?console.log("[events] Successfully fetched by ID:",l.title):console.log("[events] No product found for ID:",n)}catch(T){console.error("[events] Failed to fetch by ID:",T)}}if(!l){Et(),console.error("[events] No product found for handle:",i,"or ID:",n),b("Event not found.");return}console.log("[events] Loaded product:",l);let d=l.startTime?.value?new Date(l.startTime.value):null;if(d?d<new Date:!1){de(l),gt();return}if((l.variants?.edges?.map(T=>T.node)||[]).reduce((T,Oe)=>T+(Oe.quantityAvailable||0),0)<=0){de(l),vt();return}let u=document.querySelector('[data-role="cart"]'),m=new _,p=new N(m,u);m.onUpdateCallback=()=>{let T=l.variants?.edges?.[0]?.node?.price?.currencyCode||"USD";p.update(T)};let f=new V(l),y=new F(l,m),A=new O(l,m),L=new P(l,m,f,()=>y.getChosenVariantId());de(l),await y.render(),await A.render(),L.setupFormHandler()});function de(r){let e=r.startTime?.value?new Date(r.startTime.value):null;e&&(E(document,"date",pe(e)),E(document,"time",he(e))),E(document,"gameType",r.gameType?.value||""),E(document,"format",r.format?.value||""),E(document,"duration",r.duration?.value?`${Number(r.duration.value)} MINS`:"")}function gt(){let r=document.querySelector('[data-role="submit"]');r&&(r.disabled=!0),Fe(),E(document,"seats","Event Completed")}function Et(){let r=document.querySelector('[data-role="submit"]');r&&(r.disabled=!0),document.querySelector(".event_content_wrapper")?.childNodes?.forEach((n,s)=>{s>3&&n instanceof HTMLElement&&(n.classList.add("hide"),n.setAttribute("aria-hidden","true"))});let t=document.querySelector('[data-role="cart"]');t&&(t.classList.add("hide"),t.setAttribute("aria-hidden","true"))}function vt(){let r=document.querySelector('[data-role="submit"]');r&&(r.disabled=!0,r.classList.add("disabled"),r.textContent="Sold Out");let e=document.querySelector(".event_content_passed");if(e){e.classList.remove("w-condition-invisible");let t=e.querySelector(".heading-style-h4");t&&(t.textContent="This event is sold out")}Fe(),E(document,"seats","Sold Out")}function Fe(){let r=document.querySelector(".event_content_form");r&&(r.classList.add("hide"),r.setAttribute("aria-hidden","true"));let e=document.querySelectorAll('[data-role="ticket"]');e&&e.forEach(n=>{n.classList.add("sold-out")});let t=document.querySelector(".event_content_upsell");t&&(t.classList.add("hide"),t.setAttribute("aria-hidden","true"))}})();
