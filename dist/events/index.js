"use strict";(()=>{var Pe=Object.create;var $=Object.defineProperty;var Ue=Object.getOwnPropertyDescriptor;var Fe=Object.getOwnPropertyNames;var Oe=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty;var Be=(r,e,t)=>e in r?$(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Qe=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Ke=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Fe(e))!$e.call(r,s)&&s!==t&&$(r,s,{get:()=>e[s],enumerable:!(n=Ue(e,s))||n.enumerable});return r};var Ge=(r,e,t)=>(t=r!=null?Pe(Oe(r)):{},Ke(e||!r||!r.__esModule?$(t,"default",{value:r,enumerable:!0}):t,r));var y=(r,e,t)=>Be(r,typeof e!="symbol"?e+"":e,t);var he=Qe((gt,R)=>{"use strict";(function(r){let e=0,t=function(n,s){let o="js-enabled",l=this,u=!1;if(Array.isArray(n))return!!n.length&&n.map(a=>new t(a,s));let i={init(){this.options=Object.assign({duration:500,ariaEnabled:!0,collapse:!0,showMultiple:!1,onlyChildNodes:!0,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active",beforeOpen:()=>{},onOpen:()=>{},beforeClose:()=>{},onClose:()=>{}},s);let a=typeof n=="string";this.container=a?document.querySelector(n):n,this.createDefinitions(),l.attachEvents()},createDefinitions(){let{elementClass:a,openOnInit:c,onlyChildNodes:d}=this.options,m=d?this.container.childNodes:this.container.querySelectorAll(h(a));this.elements=Array.from(m).filter(p=>p.classList&&p.classList.contains(a)),this.firstElement=this.elements[0],this.lastElement=this.elements[this.elements.length-1],this.elements.filter(p=>!p.classList.contains(o)).forEach(p=>{p.classList.add(o),this.generateIDs(p),this.setARIA(p),this.setTransition(p);let f=this.elements.indexOf(p);e++,c.includes(f)?this.showElement(p,!1):this.closeElement(p,!1)})},setTransition(a){let c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],{duration:d,panelClass:m}=this.options;a.querySelector(h(m)).style.transitionDuration=c?null:"".concat(d,"ms")},generateIDs(a){let{triggerClass:c,panelClass:d}=this.options,m=a.querySelector(h(c)),p=a.querySelector(h(d));a.setAttribute("id",a.id||"ac-".concat(e)),m.setAttribute("id",m.id||"ac-trigger-".concat(e)),p.setAttribute("id",p.id||"ac-panel-".concat(e))},removeIDs(a){let{triggerClass:c,panelClass:d}=this.options,m=a.querySelector(h(c)),p=a.querySelector(h(d));a.id.startsWith("ac-")&&a.removeAttribute("id"),m.id.startsWith("ac-")&&m.removeAttribute("id"),p.id.startsWith("ac-")&&p.removeAttribute("id")},setARIA(a){let{ariaEnabled:c,triggerClass:d,panelClass:m}=this.options;if(!c)return;let p=a.querySelector(h(d)),f=a.querySelector(h(m));p.setAttribute("role","button"),p.setAttribute("aria-controls",f.id),p.setAttribute("aria-disabled",!1),p.setAttribute("aria-expanded",!1),f.setAttribute("role","region"),f.setAttribute("aria-labelledby",p.id)},updateARIA(a,c){let{ariaExpanded:d,ariaDisabled:m}=c,{ariaEnabled:p,triggerClass:f}=this.options;if(!p)return;let g=a.querySelector(h(f));g.setAttribute("aria-expanded",d),g.setAttribute("aria-disabled",m)},removeARIA(a){let{ariaEnabled:c,triggerClass:d,panelClass:m}=this.options;if(!c)return;let p=a.querySelector(h(d)),f=a.querySelector(h(m));p.removeAttribute("role"),p.removeAttribute("aria-controls"),p.removeAttribute("aria-disabled"),p.removeAttribute("aria-expanded"),f.removeAttribute("role"),f.removeAttribute("aria-labelledby")},focus(a,c){a.preventDefault();let{triggerClass:d}=this.options;c.querySelector(h(d)).focus()},focusFirstElement(a){this.focus(a,this.firstElement),this.currFocusedIdx=0},focusLastElement(a){this.focus(a,this.lastElement),this.currFocusedIdx=this.elements.length-1},focusNextElement(a){let c=this.currFocusedIdx+1;if(c>this.elements.length-1)return this.focusFirstElement(a);this.focus(a,this.elements[c]),this.currFocusedIdx=c},focusPrevElement(a){let c=this.currFocusedIdx-1;if(c<0)return this.focusLastElement(a);this.focus(a,this.elements[c]),this.currFocusedIdx=c},showElement(a){let c=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],{panelClass:d,activeClass:m,collapse:p,beforeOpen:f}=this.options;c&&f(a);let g=a.querySelector(h(d)),S=g.scrollHeight;a.classList.add(m),requestAnimationFrame(()=>{requestAnimationFrame(()=>{g.style.height=c?"".concat(S,"px"):"auto"})}),this.updateARIA(a,{ariaExpanded:!0,ariaDisabled:!p})},closeElement(a){let c=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],{panelClass:d,activeClass:m,beforeClose:p}=this.options,f=a.querySelector(h(d)),g=f.scrollHeight;a.classList.remove(m),c?(p(a),requestAnimationFrame(()=>{f.style.height="".concat(g,"px"),requestAnimationFrame(()=>{f.style.height=0})})):f.style.height=0,this.updateARIA(a,{ariaExpanded:!1,ariaDisabled:!1})},toggleElement(a){let{activeClass:c,collapse:d}=this.options,m=a.classList.contains(c);if(!m||d)return m?this.closeElement(a):this.showElement(a)},closeElements(){let{activeClass:a,showMultiple:c}=this.options;c||this.elements.forEach((d,m)=>{d.classList.contains(a)&&m!==this.currFocusedIdx&&this.closeElement(d)})},handleClick(a){let c=a.currentTarget;this.elements.forEach((d,m)=>{d.contains(c)&&a.target.nodeName!=="A"&&(this.currFocusedIdx=m,this.closeElements(),this.focus(a,d),this.toggleElement(d))})},handleKeydown(a){switch(a.key){case"ArrowUp":return this.focusPrevElement(a);case"ArrowDown":return this.focusNextElement(a);case"Home":return this.focusFirstElement(a);case"End":return this.focusLastElement(a);default:return null}},handleFocus(a){let c=a.currentTarget,d=this.elements.find(m=>m.contains(c));this.currFocusedIdx=this.elements.indexOf(d)},handleTransitionEnd(a){if(a.stopPropagation(),a.propertyName!=="height")return;let{onOpen:c,onClose:d}=this.options,m=a.currentTarget,p=parseInt(m.style.height),f=this.elements.find(g=>g.contains(m));p>0?(m.style.height="auto",c(f)):d(f)}};this.attachEvents=()=>{if(u)return;let{triggerClass:a,panelClass:c}=i.options;i.handleClick=i.handleClick.bind(i),i.handleKeydown=i.handleKeydown.bind(i),i.handleFocus=i.handleFocus.bind(i),i.handleTransitionEnd=i.handleTransitionEnd.bind(i),i.elements.forEach(d=>{let m=d.querySelector(h(a)),p=d.querySelector(h(c));m.addEventListener("click",i.handleClick),m.addEventListener("keydown",i.handleKeydown),m.addEventListener("focus",i.handleFocus),p.addEventListener("transitionend",i.handleTransitionEnd)}),u=!0},this.detachEvents=()=>{if(!u)return;let{triggerClass:a,panelClass:c}=i.options;i.elements.forEach(d=>{let m=d.querySelector(h(a)),p=d.querySelector(h(c));m.removeEventListener("click",i.handleClick),m.removeEventListener("keydown",i.handleKeydown),m.removeEventListener("focus",i.handleFocus),p.removeEventListener("transitionend",i.handleTransitionEnd)}),u=!1},this.toggle=a=>{let c=i.elements[a];c&&i.toggleElement(c)},this.open=a=>{let c=i.elements[a];c&&i.showElement(c)},this.openAll=()=>{let{activeClass:a,onOpen:c}=i.options;i.elements.forEach(d=>{d.classList.contains(a)||(i.showElement(d,!1),c(d))})},this.close=a=>{let c=i.elements[a];c&&i.closeElement(c)},this.closeAll=()=>{let{activeClass:a,onClose:c}=i.options;i.elements.forEach(d=>{d.classList.contains(a)&&(i.closeElement(d,!1),c(d))})},this.destroy=()=>{this.detachEvents(),this.openAll(),i.elements.forEach(a=>{i.removeIDs(a),i.removeARIA(a),i.setTransition(a,!0),a.classList.remove(o)}),u=!0},this.update=()=>{i.createDefinitions(),this.detachEvents(),this.attachEvents()};let h=a=>".".concat(CSS.escape(a));i.init()};typeof R<"u"&&R.exports!==void 0?R.exports=t:r.Accordion=t})(window)});var T=(r,e=8e3)=>{let t=document.querySelector('[data-role="error"]');t&&(t.textContent=r,t.classList.remove("hide"),setTimeout(()=>{t.classList.add("hide")},e))};var ue="America/Los_Angeles",je=new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:ue}),We=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:ue}),me=r=>{let e=new Date(r);return je.format(e)},pe=r=>{let e=new Date(r);return We.format(e)},A=(r,e="USD")=>r==null?"":new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:2}).format(r);var fe=Ge(he(),1),ye=function(r){new fe.default(r,{showMultiple:!0})};var E=(r,e,t)=>{let n=r.querySelector(`[data-field="${e}"]`);if(!n){console.warn(`Element with data-field="${e}" not found`);return}n.textContent=t};var L="GraphQL Client";var B="An error occurred while fetching from the API. Review 'graphQLErrors' for details.",Q="Response returned unexpected Content-Type:",K="An unknown error has occurred. The API did not return a data object or any errors in its response.",x={json:"application/json",multipart:"multipart/mixed"},G="X-SDK-Variant",j="X-SDK-Version",Ee="shopify-graphql-client",ve="1.4.1",D=1e3,Te=[429,503],W=/@(defer)\b/i,ge=`\r
`,Ae=/boundary="?([^=";]+)"?/i,X=ge+ge;function b(r,e=L){return r.startsWith(`${e}`)?r:`${e}: ${r}`}function C(r){return r instanceof Error?r.message:JSON.stringify(r)}function Y(r){return r instanceof Error&&r.cause?r.cause:void 0}function J(r){return r.flatMap(({errors:e})=>e??[])}function N({client:r,retries:e}){if(e!==void 0&&(typeof e!="number"||e<0||e>3))throw new Error(`${r}: The provided "retries" value (${e}) is invalid - it cannot be less than ${0} or greater than ${3}`)}function v(r,e){return e&&(typeof e!="object"||Array.isArray(e)||typeof e=="object"&&Object.keys(e).length>0)?{[r]:e}:{}}function Z(r,e){if(r.length===0)return e;let n={[r.pop()]:e};return r.length===0?n:Z(r,n)}function Ce(r,e){return Object.keys(e||{}).reduce((t,n)=>(typeof e[n]=="object"||Array.isArray(e[n]))&&r[n]?(t[n]=Ce(r[n],e[n]),t):(t[n]=e[n],t),Array.isArray(r)?[...r]:{...r})}function z([r,...e]){return e.reduce(Ce,{...r})}function ee({clientLogger:r,customFetchApi:e=fetch,client:t=L,defaultRetryWaitTime:n=D,retriableCodes:s=Te}){let o=async(l,u,i)=>{let h=u+1,a=i+1,c;try{if(c=await e(...l),r({type:"HTTP-Response",content:{requestParams:l,response:c}}),!c.ok&&s.includes(c.status)&&h<=a)throw new Error;let d=c?.headers.get("X-Shopify-API-Deprecated-Reason")||"";return d&&r({type:"HTTP-Response-GraphQL-Deprecation-Notice",content:{requestParams:l,deprecationNotice:d}}),c}catch(d){if(h<=a){let m=c?.headers.get("Retry-After");return await Xe(m?parseInt(m,10):n),r({type:"HTTP-Retry",content:{requestParams:l,lastResponse:c,retryAttempt:u,maxRetries:i}}),o(l,h,i)}throw new Error(b(`${i>0?`Attempted maximum number of ${i} network retries. Last message - `:""}${C(d)}`,t))}};return o}async function Xe(r){return new Promise(e=>setTimeout(e,r))}function te({headers:r,url:e,customFetchApi:t=fetch,retries:n=0,logger:s}){N({client:L,retries:n});let o={headers:r,url:e,retries:n},l=Ye(s),u=ee({customFetchApi:t,clientLogger:l,defaultRetryWaitTime:D}),i=Je(u,o),h=Ze(i),a=at(i);return{config:o,fetch:i,request:h,requestStream:a}}function Ye(r){return e=>{r&&r(e)}}async function Ie(r){let{errors:e,data:t,extensions:n}=await r.json();return{...v("data",t),...v("extensions",n),headers:r.headers,...e||!t?{errors:{networkStatusCode:r.status,message:b(e?B:K),...v("graphQLErrors",e),response:r}}:{}}}function Je(r,{url:e,headers:t,retries:n}){return async(s,o={})=>{let{variables:l,headers:u,url:i,retries:h,keepalive:a,signal:c}=o,d=JSON.stringify({query:s,variables:l});N({client:L,retries:h});let m=Object.entries({...t,...u}).reduce((f,[g,S])=>(f[g]=Array.isArray(S)?S.join(", "):S.toString(),f),{});return!m[G]&&!m[j]&&(m[G]=Ee,m[j]=ve),r([i??e,{method:"POST",headers:m,body:d,signal:c,keepalive:a}],1,h??n)}}function Ze(r){return async(...e)=>{if(W.test(e[0]))throw new Error(b("This operation will result in a streamable response - use requestStream() instead."));let t=null;try{t=await r(...e);let{status:n,statusText:s}=t,o=t.headers.get("content-type")||"";return t.ok?o.includes(x.json)?await Ie(t):{errors:{networkStatusCode:n,message:b(`${Q} ${o}`),response:t}}:{errors:{networkStatusCode:n,message:b(s),response:t}}}catch(n){return{errors:{message:C(n),...t==null?{}:{networkStatusCode:t.status,response:t}}}}}}async function*ze(r){let e=new TextDecoder;if(r.body[Symbol.asyncIterator])for await(let t of r.body)yield e.decode(t);else{let t=r.body.getReader(),n;try{for(;!(n=await t.read()).done;)yield e.decode(n.value)}finally{t.cancel()}}}function et(r,e){return{async*[Symbol.asyncIterator](){try{let t="";for await(let n of r)if(t+=n,t.indexOf(e)>-1){let s=t.lastIndexOf(e),l=t.slice(0,s).split(e).filter(u=>u.trim().length>0).map(u=>u.slice(u.indexOf(X)+X.length).trim());l.length>0&&(yield l),t=t.slice(s+e.length),t.trim()==="--"&&(t="")}}catch(t){throw new Error(`Error occured while processing stream payload - ${C(t)}`)}}}}function tt(r){return{async*[Symbol.asyncIterator](){yield{...await Ie(r),hasNext:!1}}}}function rt(r){return r.map(e=>{try{return JSON.parse(e)}catch(t){throw new Error(`Error in parsing multipart response - ${C(t)}`)}}).map(e=>{let{data:t,incremental:n,hasNext:s,extensions:o,errors:l}=e;if(!n)return{data:t||{},...v("errors",l),...v("extensions",o),hasNext:s};let u=n.map(({data:i,path:h,errors:a})=>({data:i&&h?Z(h,i):{},...v("errors",a)}));return{data:u.length===1?u[0].data:z([...u.map(({data:i})=>i)]),...v("errors",J(u)),hasNext:s}})}function nt(r,e){if(r.length>0)throw new Error(B,{cause:{graphQLErrors:r}});if(Object.keys(e).length===0)throw new Error(K)}function st(r,e){let t=(e??"").match(Ae),n=`--${t?t[1]:"-"}`;if(!r.body?.getReader&&!r.body?.[Symbol.asyncIterator])throw new Error("API multipart response did not return an iterable body",{cause:r});let s=ze(r),o={},l;return{async*[Symbol.asyncIterator](){try{let u=!0;for await(let i of et(s,n)){let h=rt(i);l=h.find(c=>c.extensions)?.extensions??l;let a=J(h);o=z([o,...h.map(({data:c})=>c)]),u=h.slice(-1)[0].hasNext,nt(a,o),yield{...v("data",o),...v("extensions",l),hasNext:u}}if(u)throw new Error("Response stream terminated unexpectedly")}catch(u){let i=Y(u);yield{...v("data",o),...v("extensions",l),errors:{message:b(C(u)),networkStatusCode:r.status,...v("graphQLErrors",i?.graphQLErrors),response:r},hasNext:!1}}}}}function at(r){return async(...e)=>{if(!W.test(e[0]))throw new Error(b("This operation does not result in a streamable response - use request() instead."));try{let t=await r(...e),{statusText:n}=t;if(!t.ok)throw new Error(n,{cause:t});let s=t.headers.get("content-type")||"";switch(!0){case s.includes(x.json):return tt(t);case s.includes(x.multipart):return st(t,s);default:throw new Error(`${Q} ${s}`,{cause:t})}}catch(t){return{async*[Symbol.asyncIterator](){let n=Y(t);yield{errors:{message:b(C(t)),...v("networkStatusCode",n?.status),...v("response",n)},hasNext:!1}}}}}}function re({client:r,storeDomain:e}){try{if(!e||typeof e!="string")throw new Error;let t=e.trim(),n=t.match(/^https?:/)?t:`https://${t}`,s=new URL(n);return s.protocol="https",s.origin}catch(t){throw new Error(`${r}: a valid store domain ("${e}") must be provided`,{cause:t})}}function k({client:r,currentSupportedApiVersions:e,apiVersion:t,logger:n}){let s=`${r}: the provided apiVersion ("${t}")`,o=`Currently supported API versions: ${e.join(", ")}`;if(!t||typeof t!="string")throw new Error(`${s} is invalid. ${o}`);let l=t.trim();e.includes(l)||(n?n({type:"Unsupported_Api_Version",content:{apiVersion:t,supportedApiVersions:e}}):console.warn(`${s} is likely deprecated or not supported. ${o}`))}function M(r){let e=r*3-2;return e===10?e:`0${e}`}function ne(r,e,t){let n=e-t;return n<=0?`${r-1}-${M(n+4)}`:`${r}-${M(n)}`}function Le(){let r=new Date,e=r.getUTCMonth(),t=r.getUTCFullYear(),n=Math.floor(e/3+1);return{year:t,quarter:n,version:`${t}-${M(n)}`}}function se(){let{year:r,quarter:e,version:t}=Le(),n=e===4?`${r+1}-01`:`${r}-${M(e+1)}`;return[ne(r,e,3),ne(r,e,2),ne(r,e,1),t,n,"unstable"]}function ae(r){return e=>({...e??{},...r.headers})}function ie({getHeaders:r,getApiUrl:e}){return(t,n)=>{let s=[t];if(n&&Object.keys(n).length>0){let{variables:o,apiVersion:l,headers:u,retries:i,signal:h}=n;s.push({...o?{variables:o}:{},...u?{headers:r(u)}:{},...l?{url:e(l)}:{},...i?{retries:i}:{},...h?{signal:h}:{}})}return s}}var oe="application/json",we="storefront-api-client",qe="1.0.9",Re="X-Shopify-Storefront-Access-Token",xe="Shopify-Storefront-Private-Token",De="X-SDK-Variant",Ne="X-SDK-Version",ke="X-SDK-Variant-Source",w="Storefront API Client";function Me(r){if(r&&typeof window<"u")throw new Error(`${w}: private access tokens and headers should only be used in a server-to-server implementation. Use the public API access token in nonserver environments.`)}function _e(r,e){if(!r&&!e)throw new Error(`${w}: a public or private access token must be provided`);if(r&&e)throw new Error(`${w}: only provide either a public or private access token`)}function ce({storeDomain:r,apiVersion:e,publicAccessToken:t,privateAccessToken:n,clientName:s,retries:o=0,customFetchApi:l,logger:u}){let i=se(),h=re({client:w,storeDomain:r}),a={client:w,currentSupportedApiVersions:i,logger:u};k({...a,apiVersion:e}),_e(t,n),Me(n);let c=it(h,e,a),d={storeDomain:h,apiVersion:e,...t?{publicAccessToken:t}:{privateAccessToken:n},headers:{"Content-Type":oe,Accept:oe,[De]:we,[Ne]:qe,...s?{[ke]:s}:{},...t?{[Re]:t}:{[xe]:n}},apiUrl:c(),clientName:s},m=te({headers:d.headers,url:d.apiUrl,retries:o,customFetchApi:l,logger:u}),p=ae(d),f=ot(d,c),g=ie({getHeaders:p,getApiUrl:f});return Object.freeze({config:d,getHeaders:p,getApiUrl:f,fetch:(...I)=>m.fetch(...g(...I)),request:(...I)=>m.request(...g(...I)),requestStream:(...I)=>m.requestStream(...g(...I))})}function it(r,e,t){return n=>{n&&k({...t,apiVersion:n});let s=(n??e).trim();return`${r}/api/${s}/graphql.json`}}function ot(r,e){return t=>t?e(t):r.apiUrl}function ct(r){if(!r)throw new Error("Invalid product ID");return r.startsWith("gid://")?r:`gid://shopify/Product/${r}`}function lt(r){if(!r)throw new Error("Invalid variant ID");return r.startsWith("gid://")?r:`gid://shopify/ProductVariant/${r}`}var dt="ll-theme.myshopify.com",ut="b2506cf21eef17d954028e02a4f3eb46",mt="2025-07",le=ce({storeDomain:dt,apiVersion:mt,publicAccessToken:ut});async function Ve(r){try{let e=ct(r),{data:t,errors:n}=await le.request(`
      query EventByID($id: ID!) {
        product(id: $id) {
          id
          title
          handle
          description
          gameType:  metafield(namespace:"custom", key:"game_type") { value }
          startTime: metafield(namespace:"custom", key:"start_time") { value }
          duration:  metafield(namespace:"custom", key:"duration") { value }
          format:    metafield(namespace:"custom", key:"format") { value }
          bandai:    metafield(namespace:"custom", key:"bandai_tcg") { value }
          complementaryProducts: metafield(namespace:"shopify--discovery--product_recommendation", key:"complementary_products") {
            references(first: 20) {
              edges { node { ... on Product { 
                id 
                title
                variants(first: 4) {
                  edges { node {
                    id 
                    title 
                    quantityAvailable
                    price { amount currencyCode }
                  }}
                }
              }}}
            }
          }
          variants(first: 50) {
            edges { node {
              id
              title
              quantityAvailable
              price { amount currencyCode }
              selectedOptions { name value }
            } }
          }
        }
      }
      `,{variables:{id:e}});if(n)throw new Error(n.graphQLErrors?.[0]?.message||n.message);return t.product}catch(e){return console.error(`Error fetching event product with ID ${r}:`,e),null}}async function de(r){try{let{data:e,errors:t}=await le.request(`
      query EventByHandle($handle: String!) {
        productByHandle(handle: $handle) {
          id
          title
          handle
          description
          gameType:  metafield(namespace:"custom", key:"game_type") { value }
          startTime: metafield(namespace:"custom", key:"start_time") { value }
          duration:  metafield(namespace:"custom", key:"duration") { value }
          format:    metafield(namespace:"custom", key:"format") { value }
          bandai:    metafield(namespace:"custom", key:"bandai_tcg") { value }
          complementaryProducts: metafield(namespace:"shopify--discovery--product_recommendation", key:"complementary_products") {
            references(first: 20) {
              edges { node { ... on Product { 
                id 
                title
                variants(first: 4) {
                  edges { node {
                    id 
                    title 
                    quantityAvailable
                    price { amount currencyCode }
                  }}
                }
              }}}
            }
          }
          variants(first: 50) {
            edges { node {
              id
              title
              quantityAvailable
              price { amount currencyCode }
              selectedOptions { name value }
            } }
          }
        }
      }
      `,{variables:{handle:r}});if(t)throw new Error(t.graphQLErrors?.[0]?.message||t.message);return e.productByHandle}catch(e){return console.error(`Error fetching event product with handle ${r}:`,e),null}}async function He(r){try{let e=r.map(o=>({merchandiseId:lt(o.merchandiseId),quantity:o.quantity,attributes:o.attributes||[]})),{data:t,errors:n}=await le.request(`
      mutation cartCreate($input: CartInput) {
        cartCreate(input: $input) {
          cart { id checkoutUrl }
          userErrors { field message }
        }
      }
      `,{variables:{input:{lines:e}}});if(n)throw new Error(n.graphQLErrors?.[0]?.message||n.message);let s=t?.cartCreate?.userErrors;if(s?.length)throw new Error(s[0]?.message||"Cart create failed");return t?.cartCreate?.cart}catch(e){throw console.error("Error creating cart with lines:",e),e}}var _=class{constructor(e,t){y(this,"cartEl");y(this,"cartManager");this.cartManager=e,this.cartEl=t,this.hideCartItemTemplate()}update(e="USD"){if(!this.cartEl){console.error("Cart element not found");return}let t=this.cartEl.querySelector('[data-field="cart-items"]'),n=this.cartEl.querySelector('[data-field="cart-subtotal"]'),s=document.querySelector('[data-field="cart-line-item"]');if(!t||!n||!s){console.error("Required cart elements not found");return}console.info("Updating cart display"),this.hideTemplate(s),t.innerHTML="";let o=this.cartManager.getItems(),l=this.cartManager.getSubtotal();o.forEach(u=>{let i=this.createCartItemElement(s,u,e);t.appendChild(i)}),n.textContent=A(l,e)}hideTemplate(e){e.classList.add("hide")}hideCartItemTemplate(){let e=document.querySelector('[data-field="cart-line-item"]');e&&e.classList.add("hide")}createCartItemElement(e,t,n){let s=e.cloneNode(!0);s.classList.remove("hide");let o=s.querySelector('[data-field="cart-line-title"]');if(o){let h=t.quantity&&t.quantity>1?`${t.title} (${t.quantity}x)`:t.title;o.textContent=h}let l=s.querySelector('[data-field="cart-line-variant"]');l&&(l.textContent=t.variant);let u=s.querySelector('[data-field="cart-line-price"]');u&&(u.textContent=A(t.price,n));let i=s.querySelector('[data-role="cart-line-clear"]');return t.id!=="event"&&i?(i.classList.remove("hide"),i.addEventListener("click",()=>this.cartManager.removeItem(t.id))):i&&i.classList.add("hide"),s}};var V=class{constructor(e){y(this,"items",[]);y(this,"onUpdateCallback");this.onUpdateCallback=e}getItems(){return[...this.items]}getSubtotal(){return this.items.reduce((e,t)=>e+t.price,0)}updateEventItem(e,t,n,s){this.items=this.items.filter(o=>o.id!=="event"),this.items.push({id:"event",title:t,variant:n,price:s}),this.triggerUpdate()}addUpsellItem(e){let t=this.items.findIndex(n=>n.id===e.id);if(t>=0){let n=this.items[t];this.items[t]={...n,quantity:(n.quantity||1)+(e.quantity||1),price:e.price*((n.quantity||1)+(e.quantity||1))}}else this.items.push(e);return this.triggerUpdate(),!0}removeItem(e){this.items=this.items.filter(t=>t.id!==e),this.triggerUpdate()}triggerUpdate(){this.onUpdateCallback?.()}};var H=class{constructor(e){this.product=e;y(this,"state",{participant:"self",requirePlayerName:!1,requirePokemonId:!1,requireTcgAccount:!1});this.setupListeners(),this.updateFieldVisibility()}getState(){return{...this.state}}setupListeners(){let e=document.getElementById("self"),t=document.getElementById("other");e&&t&&(e.addEventListener("change",()=>{e.checked&&(this.state.participant="self",this.updateFieldVisibility())}),t.addEventListener("change",()=>{t.checked&&(this.state.participant="other",this.updateFieldVisibility())}),!e.checked&&!t.checked&&(e.checked=!0,this.state.participant="self"))}updateFieldVisibility(){this.updatePlayerNameFields(),this.updatePokemonIdField(),this.updateTcgAccountField()}updatePlayerNameFields(){let e=document.querySelector('[data-role="player-name"]');if(!e)return;let t=this.state.participant==="other";e.classList.toggle("hide",!t),this.state.requirePlayerName=t,e.querySelectorAll("input").forEach(s=>{s.required=t})}updatePokemonIdField(){let e=document.querySelector('[data-role="pokemon-id"]');if(!e)return;let t=(this.product.gameType?.value||"").toLowerCase()==="pokemon";e.classList.toggle("hide",!t),this.state.requirePokemonId=t;let n=e.querySelector("input");n&&(n.required=t)}updateTcgAccountField(){let e=document.querySelector('[data-role="tcg-account"]');if(!e)return;let t=!!this.product.bandai;e.classList.toggle("hide",!t),this.state.requireTcgAccount=t}validate(){if(this.state.requirePlayerName){let e=this.getFormValue("field-first-name"),t=this.getFormValue("field-last-name");if(!e){let n="Please enter the player's first name.";return this.showError(n),{valid:!1,error:n}}if(!t){let n="Please enter the player's last name.";return this.showError(n),{valid:!1,error:n}}}if(this.state.requirePokemonId&&!this.getFormValue("field-pokemon-id")){let t="Please enter your Pok\xE9mon ID.";return this.showError(t),{valid:!1,error:t}}if(this.state.requireTcgAccount&&!document.querySelector('input[name="tcg-account"]:checked')){let t="Please indicate if you have a TCG Plus account.";return this.showError(t),{valid:!1,error:t}}return{valid:!0}}showError(e){T(e)}getFormValue(e){return(document.querySelector(`[data-role="${e}"]`)?.value||"").trim()}};var P=class{constructor(e,t,n,s){this.product=e;this.cartManager=t;this.formManager=n;this.getChosenVariantId=s;y(this,"form");y(this,"submitBtn");y(this,"errBox");this.form=document.querySelector('[data-role="event-form"]'),this.submitBtn=document.querySelector('[data-role="submit"]'),this.errBox=document.querySelector('[data-role="error"]'),this.setupButtonStateManagement()}setupFormHandler(){if(!this.form){console.error("Form not found");return}this.form.addEventListener("submit",async e=>{e.preventDefault(),await this.handleFormSubmission()})}async handleFormSubmission(){this.clearErrors();let e=this.validateForm();if(!e.valid){T(e.error||"Validation error");return}this.disableSubmitButton();try{let n=(await this.createEventCart())?.checkoutUrl;if(!n)throw new Error("Could not create checkout.");window.location.href=n}catch(t){console.error("[events] checkout error",t),T("Something went wrong. Please try again."),this.enableSubmitButton()}}validateForm(){if(!this.getChosenVariantId()){let t="This event is sold out.";return T(t),{valid:!1,error:t}}return this.formManager.validate()}async createEventCart(){let e=this.formManager.getState(),t=this.getFormValue("field-first-name"),n=this.getFormValue("field-last-name"),s=`${t} ${n}`.trim(),o=e.requirePokemonId?this.getFormValue("field-pokemon-id"):"",l="";if(e.requireTcgAccount){let h=document.getElementById("true"),a=document.getElementById("false");h?.checked&&(l="Yes"),a?.checked&&(l="No")}let u=[{merchandiseId:this.getChosenVariantId(),quantity:1,attributes:[{key:"Game",value:this.product.gameType?.value||""},{key:"Format",value:this.product.format?.value||""},{key:"Participant",value:e.participant.charAt(0).toUpperCase()+e.participant.slice(1)}]}];return e.participant==="other"&&t&&n&&u[0].attributes.push({key:"Player Name",value:s}),o&&u[0].attributes.push({key:"Pok\xE9mon ID",value:o}),l&&u[0].attributes.push({key:"TCG Plus Account",value:l}),this.cartManager.getItems().forEach(h=>{h.id!=="event"&&h.variantId&&u.push({merchandiseId:h.variantId,quantity:h.quantity||1,attributes:[]})}),He(u)}setupButtonStateManagement(){this.enableSubmitButton(),this.form&&(this.form.addEventListener("input",()=>this.enableSubmitButton()),this.form.addEventListener("change",()=>this.enableSubmitButton())),document.addEventListener("visibilitychange",()=>{document.hidden||this.enableSubmitButton()}),window.addEventListener("focus",()=>this.enableSubmitButton())}enableSubmitButton(){this.submitBtn&&this.submitBtn.disabled&&(this.submitBtn.disabled=!1)}disableSubmitButton(){this.submitBtn&&(this.submitBtn.disabled=!0)}clearErrors(){this.errBox&&(this.errBox.textContent="",this.errBox.classList.add("hide"))}getFormValue(e){return(document.querySelector(`[data-role="${e}"]`)?.value||"").trim()}};var U=(r,e)=>{let t;return(...n)=>{clearTimeout(t),t=setTimeout(()=>r(...n),e)}};var F=class{constructor(e,t){this.product=e;this.cartManager=t;y(this,"variants",[]);y(this,"chosenVariantId",null);y(this,"hasSelectedVariant",!1);y(this,"currency");this.variants=(e.variants?.edges||[]).map(n=>n.node),this.currency=this.variants[0]?.price?.currencyCode||"USD"}async render(){let e=document.querySelector('[data-role="ticket"]'),t=e?.parentElement||null;if(!t||!e){console.error("Ticket template or container not found"),this.chosenVariantId=this.variants[0]?.id||null;return}e.classList.add("hide"),t.innerHTML="",[...this.variants].sort((s,o)=>{let l=Number(s.price?.amount||"0"),u=Number(o.price?.amount||"0");return l-u}).forEach(s=>{console.info("Creating ticket for variant",s),this.createTicketElement(s,e,t)})}getChosenVariantId(){return this.chosenVariantId}createTicketElement(e,t,n){let s=this.getVariantTitle(e);if(s==="Default Title"&&this.variants.length>1)return;let o=s==="Default Title"?"Single Entry":s,l=e.quantityAvailable||0,u=Number(e.price?.amount||"0"),i=t.cloneNode(!0);i.classList.remove("hide"),this.setTicketData(i,o,l,u),l<=0?(console.info("Setting up sold out ticket for variant",e),this.setupSoldOutTicket(i)):this.setupAvailableTicket(i,e,o),n.appendChild(i)}getVariantTitle(e){let t=e.title;if(e.selectedOptions&&e.selectedOptions.length>0){let n=e.selectedOptions.find(s=>s.name.toLowerCase()!=="title"&&s.value!=="Default Title");if(n)t=n.value;else{let s=e.selectedOptions.find(o=>o.name.toLowerCase()==="title"&&o.value!=="Default Title");s&&(t=s.value)}}return t}setTicketData(e,t,n,s){let o=e.querySelector('[data-field="variant-title"]'),l=e.querySelector('[data-field="seats"]'),u=e.querySelector('[data-field="price"]');o&&(o.textContent=t),l&&(l.textContent=n>0?`${n} seats left`:"Sold out"),u&&(u.textContent=s===0?"Free":A(s,this.currency))}setupSoldOutTicket(e){e.classList.add("sold-out"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-disabled","true")}setupAvailableTicket(e,t,n){e.dataset.variantId=t.id,e.setAttribute("aria-pressed","false");let s=U(()=>{this.updateEventInCart(t,n)},150);this.addTicketEventListeners(e,t,n,s),this.hasSelectedVariant||(this.chosenVariantId=t.id,this.setActiveTicket(e),this.updateEventInCart(t,n),this.hasSelectedVariant=!0)}addTicketEventListeners(e,t,n,s){let o=t.quantityAvailable||0;e.addEventListener("click",()=>{o<=0||(this.chosenVariantId=t.id,this.setActiveTicket(e),s())}),e.addEventListener("keydown",l=>{o<=0||(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),this.chosenVariantId=t.id,this.setActiveTicket(e),s())})}setActiveTicket(e){document.querySelectorAll('[data-role="ticket"]').forEach(t=>{t.querySelector('[data-field="checkbox"]')?.classList.remove("is-active"),t.setAttribute("aria-pressed","false")}),e.querySelector('[data-field="checkbox"]')?.classList.add("is-active"),e.setAttribute("aria-pressed","true")}updateEventInCart(e,t){let n=Number(e.price?.amount||"0");this.cartManager.updateEventItem("event",this.product.title,t,n)}};var O=class{constructor(e,t){this.product=e;this.cartManager=t;y(this,"upsellProducts",[]);this.extractUpsells()}async render(){let e=document.querySelector('[data-role="upsell"]'),t=e?.parentElement;if(!this.upsellProducts.length||!t||!e){t?.parentElement&&t.parentElement.classList.add("hide");return}e.classList.add("hide"),t.innerHTML="",this.upsellProducts.forEach(n=>{this.createUpsellElement(n,e,t)})}extractUpsells(){this.upsellProducts=(this.product.complementaryProducts?.references?.edges||[]).map(e=>e.node).filter(e=>!!e?.id).map(e=>({id:e?.id,title:e?.title||"Add-on",variants:(e?.variants?.edges||[]).map(t=>t.node).filter(t=>!!t?.id).map(t=>({id:t?.id,title:t?.title??"Untitled Variant",price:t?.price,quantityAvailable:t?.quantityAvailable||0,selectedOptions:t?.selectedOptions||[]}))})).filter(e=>e.variants.length>0)}createUpsellElement(e,t,n){let s=t.cloneNode(!0);s.classList.remove("hide"),this.setProductTitle(s,e.title);let l=this.findDefaultVariant(e.variants);e.variants.length>1?this.createVariantSelector(s,e.variants,u=>{l=u,this.updateUpsellDisplay(s,u),this.setupUpsellControls(s,e.title,u)}):this.hideVariantSelector(s),l&&(this.updateUpsellDisplay(s,l),this.setupUpsellControls(s,e.title,l)),n.appendChild(s)}setProductTitle(e,t){E(e,"upsell-title",t)}findDefaultVariant(e){let t=e.filter(s=>s.quantityAvailable>0);return(t.length>0?t:e).sort((s,o)=>{let l=Number(s.price?.amount||"0"),u=Number(o.price?.amount||"0");return l-u})[0]||null}createVariantSelector(e,t,n){let s=e.querySelector('[data-field="upsell-variants"]'),o=e.querySelector('[data-field="upsell-variant-item"]');!s||!o||(o.classList.add("hide"),s.innerHTML="",t.forEach((l,u)=>{let i=o.cloneNode(!0);i.classList.remove("hide");let h=this.getVariantOptionText(l),a=i.querySelector("div");a&&(a.textContent=h),i.classList.add("variant-option"),i.setAttribute("role","button"),i.setAttribute("tabindex","0"),u===0?(i.classList.add("selected"),i.setAttribute("aria-pressed","true")):i.setAttribute("aria-pressed","false");let c=()=>{s.querySelectorAll(".variant-option").forEach(d=>{d.classList.remove("selected"),d.setAttribute("aria-pressed","false")}),i.classList.add("selected"),i.setAttribute("aria-pressed","true"),n(l)};i.addEventListener("click",c),i.addEventListener("keydown",d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c())}),s.appendChild(i)}))}getVariantOptionText(e){let t=e.selectedOptions?.filter(n=>n.value!=="Default Title"&&n.name.toLowerCase()!=="title")||[];return t.length>0?t.map(n=>n.value).join(" / "):e.title==="Default Title"?"Standard":e.title}hideVariantSelector(e){let t=e.querySelector('[data-field="upsell-variants"]');t&&t.classList.add("hide")}updateUpsellDisplay(e,t){let n=Number(t.price?.amount||"0"),s=t.price?.currencyCode||"USD",o=t.quantityAvailable;E(e,"upsell-price",A(n,s)),E(e,"upsell-stock-count",o.toString());let l=e.querySelector('[data-field="upsell-stock"]');l&&(o>0&&o<=5?l.classList.remove("hide"):l.classList.add("hide")),o<=0?e.classList.add("sold-out"):e.classList.remove("sold-out")}setupUpsellControls(e,t,n){let s=Number(n.price?.amount||"0"),o=n.quantityAvailable,l=Math.min(10,o),u=`upsell_${n.id.split("/").pop()}`,i=this.getVariantOptionText(n),h=`${t} - ${i}`,a=e.querySelector('[data-field="upsell-add"]'),c=e.querySelector('[data-field="upsell-qty-up"]'),d=e.querySelector('[data-field="upsell-qty-down"]'),m=1;if(E(e,"upsell-qty-count",m.toString()),a){let q=a.cloneNode(!0);a.parentNode?.replaceChild(q,a)}if(c){let q=c.cloneNode(!0);c.parentNode?.replaceChild(q,c)}if(d){let q=d.cloneNode(!0);d.parentNode?.replaceChild(q,d)}let p=e.querySelector('[data-field="upsell-add"]'),f=e.querySelector('[data-field="upsell-qty-up"]'),g=e.querySelector('[data-field="upsell-qty-down"]');if(o<=0){this.disableUpsellControls(e);return}p?.classList.remove("disabled");let S=p?.querySelector(".button-text");S&&(S.textContent="Add to Cart"),f?.addEventListener("click",()=>{m<l&&(m++,E(e,"upsell-qty-count",m.toString()))}),g?.addEventListener("click",()=>{m>1&&(m--,E(e,"upsell-qty-count",m.toString()))});let I=U(()=>{this.addUpsellToCart(u,h,s,m,n)},300);p?.addEventListener("click",()=>{p.classList.contains("disabled")||(p.classList.add("processing"),I(),setTimeout(()=>{p.classList.remove("processing")},350))})}disableUpsellControls(e){let t=e.querySelector('[data-field="upsell-add"]'),n=e.querySelector('[data-field="upsell-qty-wrap"]');if(t){let s=t.querySelector(".button-text");s&&(s.textContent="Out of Stock"),t.classList.add("disabled")}n&&(n.style.opacity="0.5")}addUpsellToCart(e,t,n,s,o){let i=this.cartManager.getItems().find(c=>c.id===e)?.quantity||0;if(i+s>o.quantityAvailable){let c=o.quantityAvailable-i;if(c<=0){T(`${t}: This item is already at maximum quantity in your cart.`);return}T(`${t}: Only ${c} more available. ${o.quantityAvailable} total in stock.`);return}this.cartManager.addUpsellItem({id:e,title:t,variant:"",price:n*s,quantity:s,variantId:o.id})&&console.log(`Added ${s}x ${t} to cart`)}};window.Webflow||(window.Webflow=[]);window.Webflow.push(async()=>{let r=Array.from(document.querySelectorAll('[ll-selector="accordion"]'));r.length>0?ye(r):console.log("No accordion elements found.");let e=document.querySelector("#event-meta"),t=e?.getAttribute("data-handle")||void 0,n=e?.getAttribute("data-id")||void 0,s=location.pathname.split("/").filter(Boolean).pop(),o=t||s||"",l=await de(o);if(o&&(console.log("[events] Fetching by handle:",o),l=await de(o)),!l&&n){console.log("[events] Handle failed, trying CMS ID:",n);try{l=await Ve(n),l?console.log("[events] Successfully fetched by ID:",l.title):console.log("[events] No product found for ID:",n)}catch(p){console.error("[events] Failed to fetch by ID:",p)}}if(!l){console.error("[events] No product found for handle:",o,"or ID:",n),document.querySelectorAll("[data-role]").forEach(p=>{p.classList.add("hide"),p.setAttribute("aria-hidden","true")}),document.querySelectorAll("[data-field]").forEach(p=>{p.classList.add("hide"),p.setAttribute("aria-hidden","true")}),T("Event not found.");return}let u=document.querySelector('[data-role="cart"]'),i=new V,h=new _(i,u);i.onUpdateCallback=()=>{let p=l.variants?.edges?.[0]?.node?.price?.currencyCode||"USD";h.update(p)};let a=new H(l),c=new F(l,i),d=new O(l,i),m=new P(l,i,a,()=>c.getChosenVariantId());pt(l),await c.render(),await d.render(),m.setupFormHandler()});function pt(r){let e=(r.variants?.edges||[]).map(i=>i.node),t=e.reduce((i,h)=>i+(h.quantityAvailable||0),0),n=e.map(i=>Number(i.price?.amount||"0")).filter(i=>Number.isFinite(i)),s=n.length?Math.min(...n):null,o=n.length?Math.max(...n):null,l=e[0]?.price?.currencyCode||"USD",u=r.startTime?.value?new Date(r.startTime.value):null;u&&(E(document,"date",me(u)),E(document,"time",pe(u))),E(document,"gameType",r.gameType?.value||""),E(document,"format",r.format?.value||""),E(document,"duration",r.duration?.value?`${Number(r.duration.value)} MINS`:""),E(document,"seats",t>0?`${t} Seats Open`:"Sold Out"),s!=null&&E(document,"priceRange",o!=null&&o!==s?`${A(s,l)} - ${A(o,l)}`:s===0?"Free":A(s,l))}})();
